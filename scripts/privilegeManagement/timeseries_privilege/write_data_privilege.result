-- [1]34:create database root.sg
STRICT{
PASS
}
-- [1]35:create database root.data
STRICT{
PASS
}
-- [1]38:create aligned timeseries root.sg.d1(s1 float encoding=rle, s2 int64 encoding=rle)
STRICT{
PASS
}
-- [1]41:create timeseries root.sg.d2.s1 with datatype=float,encoding=rle
STRICT{
PASS
}
-- [1]42:create timeseries root.sg.d2.s2 with datatype=int64,encoding=rle
STRICT{
PASS
}
-- [1]46:create device template t1 aligned (temperature FLOAT encoding=Gorilla, status BOOLEAN encoding=PLAIN)
STRICT{
PASS
}

-- [1]47:show device templates
STRICT{
TemplateName(TEXT)      |
------------------------
t1                      |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]48:show nodes in device template t1
STRICT{
ChildNodes(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |
-------------------------------------------------------------------------------------
temperature           |FLOAT               |GORILLA             |LZ4                    |
-------------------------------------------------------------------------------------
status                |BOOLEAN             |PLAIN               |LZ4                    |
总数目：2
}

Elapsed Time: 0.0.0
-- [1]49:set device template t1 to root.sg.aligned_template
STRICT{
PASS
}

-- [1]50:show paths set device template t1
STRICT{
Paths(TEXT)      |
-----------------
root.sg.aligned_t|
emplate          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]51:create timeseries using device template on root.sg.aligned_template
STRICT{
PASS
}

-- [1]52:show paths using device template t1
STRICT{
Paths(TEXT)      |
-----------------
root.sg.aligned_t|
emplate          |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]56:create device template t2(temperature FLOAT encoding=Gorilla, status BOOLEAN encoding=PLAIN)
STRICT{
PASS
}

-- [1]57:show device templates
STRICT{
TemplateName(TEXT)      |
------------------------
t1                      |
------------------------
t2                      |
总数目：2
}

Elapsed Time: 0.0.0

-- [1]58:show nodes in device template t2
STRICT{
ChildNodes(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |
-------------------------------------------------------------------------------------
temperature           |FLOAT               |GORILLA             |LZ4                    |
-------------------------------------------------------------------------------------
status                |BOOLEAN             |PLAIN               |LZ4                    |
总数目：2
}

Elapsed Time: 0.0.1
-- [1]59:set device template t2 to root.sg.nonaligned_template
STRICT{
PASS
}

-- [1]60:show paths set device template t2
STRICT{
Paths(TEXT)      |
-----------------
root.sg.nonaligne|
d_template       |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]61:create timeseries using device template on root.sg.nonaligned_template
STRICT{
PASS
}

-- [1]62:show paths using device template t2
STRICT{
Paths(TEXT)      |
-----------------
root.sg.nonaligne|
d_template       |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]65:create view root.sg.view_d1.calculation as select (s1+s2)/2 from root.sg.d1
STRICT{
PASS
}
-- [1]66:create view root.sg.view_d2.calculation as select sin(s1*s2) from root.sg.d2
STRICT{
PASS
}

-- [1]69:show databases
STRICT{
Database(TEXT)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionOrigin(INT64)      |TimePartitionInterval(INT64)      |
------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg             |1                                   |1                                 |0                               |604800000                         |
------------------------------------------------------------------------------------------------------------------------------------------------------------
root.data           |1                                   |1                                 |0                               |604800000                         |
总数目：2
}

Elapsed Time: 0.0.1

-- [1]70:show devices root.**
STRICT{
Device(TEXT)      |IsAligned(TEXT)      |Template(TEXT)      |TTL(ms)(TEXT)      |
------------------------------------------------------------------------------
root.sg.aligned_te|true                 |t1                  |INF                |
mplate            |                     |                    |                   |
------------------------------------------------------------------------------
root.sg.view_d1   |null                 |null                |INF                |
------------------------------------------------------------------------------
root.sg.view_d2   |null                 |null                |INF                |
------------------------------------------------------------------------------
root.sg.nonaligned|false                |t2                  |INF                |
_template         |                     |                    |                   |
------------------------------------------------------------------------------
root.sg.d1        |true                 |null                |INF                |
------------------------------------------------------------------------------
root.sg.d2        |false                |null                |INF                |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]71:show timeseries root.sg.**
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.aligned_templa|null             |root.sg             |FLOAT               |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
te.temperature        |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.aligned_templa|null             |root.sg             |BOOLEAN             |PLAIN               |LZ4                    |null            |null                  |null                |null                          |BASE                |
te.status             |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.nonaligned_tem|null             |root.sg             |FLOAT               |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
plate.temperature     |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.nonaligned_tem|null             |root.sg             |BOOLEAN             |PLAIN               |LZ4                    |null            |null                  |null                |null                          |BASE                |
plate.status          |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.d1.s1         |null             |root.sg             |FLOAT               |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.d1.s2         |null             |root.sg             |INT64               |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.d2.s1         |null             |root.sg             |FLOAT               |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.d2.s2         |null             |root.sg             |INT64               |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.view_d1.calcul|null             |root.sg             |DOUBLE              |null                |null                   |null            |null                  |null                |null                          |VIEW                |
ation                 |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg.view_d2.calcul|null             |root.sg             |DOUBLE              |null                |null                   |null            |null                  |null                |null                          |VIEW                |
ation                 |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
总数目：10
}

Elapsed Time: 0.0.1

-- [1]72:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.sg.view_d1.calcul|root.sg             |DOUBLE              |null            |null                  |VIEW                |(root.sg.d1.s1 + r|
ation                 |                    |                    |                |                      |                    |oot.sg.d1.s2) / 2 |
------------------------------------------------------------------------------------------------------------------------------------------
root.sg.view_d2.calcul|root.sg             |DOUBLE              |null            |null                  |VIEW                |sin(root.sg.d2.s1 |
ation                 |                    |                    |                |                      |                    |* root.sg.d2.s2)  |
总数目：2
}

Elapsed Time: 0.0.1
-- [1]75:insert into root.sg.d1(time,s1,s2) values(1,1,1),(2,2,2),(3,3,3)
STRICT{
0
}

Elapsed Time: 0.1.283
-- [1]76:insert into root.sg.d2(time,s1,s2) values(1,1,1),(2,2,2),(3,3,3)
STRICT{
0
}

Elapsed Time: 0.1.282
-- [1]77:insert into root.sg.aligned_template(time,temperature,status) values(1,20,false),(2,22.1,true),(3,18,false)
STRICT{
0
}

Elapsed Time: 0.0.4
-- [1]78:insert into root.sg.nonaligned_template(time,temperature,status) values(1,10.5,false),(2,0.1,true),(3,22.2,false)
STRICT{
0
}

Elapsed Time: 0.0.4
-- [1]82:CREATE USER user01 'pass1234'
STRICT{
PASS
}
-- [1]83:CREATE USER user02 'pass1234'
STRICT{
PASS
}
-- [1]84:CREATE USER user03 'pass1234'
STRICT{
PASS
}
-- [1]85:CREATE USER user04 'pass1234'
STRICT{
PASS
}

-- [1]87:list user
STRICT{
User(TEXT)      |
----------------
root            |
----------------
user01          |
----------------
user02          |
----------------
user03          |
----------------
user04          |
总数目：5
}

Elapsed Time: 0.0.3

-- [1]91:LIST PRIVILEGES OF USER `user01`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
总数目：0
}

Elapsed Time: 0.0.0

-- [1]92:LIST PRIVILEGES OF USER `user02`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
总数目：0
}

Elapsed Time: 0.0.0

-- [1]93:LIST PRIVILEGES OF USER `user03`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]94:LIST PRIVILEGES OF USER `user04`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
总数目：0
}

Elapsed Time: 0.0.0
-- [1]97:GRANT WRITE_DATA ON root.** TO USER user01
STRICT{
PASS
}
-- [1]98:GRANT WRITE_DATA ON root.sg.d1.** TO USER user02 with grant option
STRICT{
PASS
}
-- [1]99:GRANT WRITE_DATA ON root.sg.nonaligned_template.** TO USER user03
STRICT{
PASS
}
-- [1]100:GRANT WRITE_DATA ON root.sg.aligned_template.temperature TO USER user03
STRICT{
PASS
}
-- [1]101:GRANT WRITE_DATA ON root.**.status TO USER user03
STRICT{
SQLSTATE : 303: Illegal pattern path: root.**.status, only pattern path that end with ** are supported.
}
-- [1]103:GRANT WRITE_DATA ON root.*.*.* TO USER user04
STRICT{
SQLSTATE : 303: Illegal pattern path: root.*.*.*, only pattern path that end with ** are supported.
}
-- [1]105:GRANT WRITE_DATA ON root.data TO USER user04
STRICT{
PASS
}
-- [1]109:show version
STRICT{
PASS
}

-- [1]111:show databases
STRICT{
Database(TEXT)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionOrigin(INT64)      |TimePartitionInterval(INT64)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]112:count databases
STRICT{
count(INT32)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]113:show child paths root
STRICT{
ChildPaths(TEXT)      |NodeTypes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]114:show child paths root.*
STRICT{
ChildPaths(TEXT)      |NodeTypes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]115:show child paths root.**
STRICT{
ChildPaths(TEXT)      |NodeTypes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]116:show child paths root.sg
STRICT{
ChildPaths(TEXT)      |NodeTypes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]117:show child nodes root.sg.*
STRICT{
ChildNodes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]118:count nodes root.sg.** level=2
STRICT{
count(nodes)(INT64)      |
-------------------------
0                        |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]119:show devices
STRICT{
Device(TEXT)      |IsAligned(TEXT)      |Template(TEXT)      |TTL(ms)(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]120:count devices
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]121:show timeseries
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]122:count timeseries
STRICT{
count(timeseries)(INT64)      |
------------------------------
0                             |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]123:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]124:show all ttl
STRICT{
Device(TEXT)      |TTL(ms)(TEXT)      |
-------------------------------------
root.**           |INF                |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]125:select * from root.**
STRICT{
Time(TIMESTAMP)      |root.sg.aligned_template.temperature(FLOAT)      |root.sg.aligned_template.status(BOOLEAN)      |root.sg.nonaligned_template.temperature(FLOAT)      |root.sg.nonaligned_template.status(BOOLEAN)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |root.sg.d2.s1(FLOAT)      |root.sg.d2.s2(INT64)      |root.sg.view_d1.calculation(DOUBLE)      |root.sg.view_d2.calculation(DOUBLE)      |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                    |20.0                                             |false                                         |10.5                                                |false                                            |1.0                       |1                         |1.0                       |1                         |1.0                                      |0.8414709848078965                       |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2                    |22.1                                             |true                                          |0.1                                                 |true                                             |2.0                       |2                         |2.0                       |2                         |2.0                                      |-0.7568024953079282                      |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3                    |18.0                                             |false                                         |22.2                                                |false                                            |3.0                       |3                         |3.0                       |3                         |3.0                                      |0.4121184852417566                       |
总数目：3
}

Elapsed Time: 0.0.8
-- [1]126:insert into root.sg.d1(time,s1,s2) values(4,4,4)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]127:insert into root.sg.d2(time,s1,s2) values(4,4,4)
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]128:select s1,s2 from root.sg.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |s1(FLOAT)      |s2(INT64)      |
---------------------------------------------------------------------
1                    |root.sg.d1        |1.0            |1              |
---------------------------------------------------------------------
2                    |root.sg.d1        |2.0            |2              |
---------------------------------------------------------------------
3                    |root.sg.d1        |3.0            |3              |
---------------------------------------------------------------------
4                    |root.sg.d1        |4.0            |4              |
---------------------------------------------------------------------
1                    |root.sg.d2        |1.0            |1              |
---------------------------------------------------------------------
2                    |root.sg.d2        |2.0            |2              |
---------------------------------------------------------------------
3                    |root.sg.d2        |3.0            |3              |
---------------------------------------------------------------------
4                    |root.sg.d2        |4.0            |4              |
总数目：8
}

Elapsed Time: 0.0.6

-- [1]129:select s1 from root.** where time=3
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |root.sg.d2.s1(FLOAT)      |
-------------------------------------------------------------------------
3                    |3.0                       |3.0                       |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]130:select * from root.** where s1=3
STRICT{
Time(TIMESTAMP)      |root.sg.aligned_template.temperature(FLOAT)      |root.sg.aligned_template.status(BOOLEAN)      |root.sg.nonaligned_template.temperature(FLOAT)      |root.sg.nonaligned_template.status(BOOLEAN)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |root.sg.d2.s1(FLOAT)      |root.sg.d2.s2(INT64)      |root.sg.view_d1.calculation(DOUBLE)      |root.sg.view_d2.calculation(DOUBLE)      |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3                    |18.0                                             |false                                         |22.2                                                |false                                            |3.0                       |3                         |3.0                       |3                         |3.0                                      |0.4121184852417566                       |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]131:select sin((s1+s2)/2) from root.sg.**
STRICT{
Time(TIMESTAMP)      |sin((root.sg.d1.s1 + root.sg.d1.s2) / 2)(DOUBLE)      |sin((root.sg.d1.s1 + root.sg.d2.s2) / 2)(DOUBLE)      |sin((root.sg.d2.s1 + root.sg.d1.s2) / 2)(DOUBLE)      |sin((root.sg.d2.s1 + root.sg.d2.s2) / 2)(DOUBLE)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                    |0.8414709848078965                                    |0.8414709848078965                                    |0.8414709848078965                                    |0.8414709848078965                                    |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2                    |0.9092974268256817                                    |0.9092974268256817                                    |0.9092974268256817                                    |0.9092974268256817                                    |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3                    |0.1411200080598672                                    |0.1411200080598672                                    |0.1411200080598672                                    |0.1411200080598672                                    |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4                    |-0.7568024953079282                                   |-0.7568024953079282                                   |-0.7568024953079282                                   |-0.7568024953079282                                   |
总数目：4
}

Elapsed Time: 0.0.4

-- [1]132:select count(*) from root.** group by level=1
STRICT{
count(root.sg.*.*)(INT64)      |
-------------------------------
36                             |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]133:select last(*) from root.** order by timeseries
STRICT{
Time(TIMESTAMP)      |Timeseries(TEXT)      |Value(TEXT)      |DataType(TEXT)      |
--------------------------------------------------------------------------------
3                    |root.sg.aligned_templa|false            |BOOLEAN             |
                     |te.status             |                 |                    |
--------------------------------------------------------------------------------
3                    |root.sg.aligned_templa|18.0             |FLOAT               |
                     |te.temperature        |                 |                    |
--------------------------------------------------------------------------------
4                    |root.sg.d1.s1         |4.0              |FLOAT               |
--------------------------------------------------------------------------------
4                    |root.sg.d1.s2         |4                |INT64               |
--------------------------------------------------------------------------------
4                    |root.sg.d2.s1         |4.0              |FLOAT               |
--------------------------------------------------------------------------------
4                    |root.sg.d2.s2         |4                |INT64               |
--------------------------------------------------------------------------------
3                    |root.sg.nonaligned_tem|false            |BOOLEAN             |
                     |plate.status          |                 |                    |
--------------------------------------------------------------------------------
3                    |root.sg.nonaligned_tem|22.2             |FLOAT               |
                     |plate.temperature     |                 |                    |
--------------------------------------------------------------------------------
4                    |root.sg.view_d1.calcul|4.0              |DOUBLE              |
                     |ation                 |                 |                    |
--------------------------------------------------------------------------------
4                    |root.sg.view_d2.calcul|-0.28790331666506|DOUBLE              |
                     |ation                 |53               |                    |
总数目：10
}

Elapsed Time: 0.0.6

-- [1]134:select count(s1) from root.** align by device
STRICT{
Device(TEXT)      |count(s1)(INT64)      |
----------------------------------------
root.sg.d1        |4                     |
----------------------------------------
root.sg.d2        |4                     |
总数目：2
}

Elapsed Time: 0.0.4
-- [1]135:delete from root.sg.d2.*
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]136:select * from root.sg.d1
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |
-------------------------------------------------------------------------
1                    |1.0                       |1                         |
-------------------------------------------------------------------------
2                    |2.0                       |2                         |
-------------------------------------------------------------------------
3                    |3.0                       |3                         |
-------------------------------------------------------------------------
4                    |4.0                       |4                         |
总数目：4
}

Elapsed Time: 0.0.2
-- [1]138:show cluster details
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege MAINTAIN
}
-- [1]140:show regions
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]142:show confignodes
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]144:show datanodes
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]146:create aligned timeseries root.sg.d1(s3 double encoding=rle, s4 int32 encoding=rle)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.d1.s3, root.sg.d1.s4]
}
-- [1]148:create timeseries root.sg.d2.s3 with datatype=INT32
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA
}
-- [1]150:create view root.sg.view_d1.s1 as select s1 from root.sg.d1
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege READ_SCHEMA on [root.sg.d1.s1]
}
-- [1]152:select s1,s2 into root.sg1.d1(s1,s2) from root.sg.d1
STRICT{
SQLSTATE : 301: Error occurred while inserting tablets in SELECT INTO: [EXECUTE_STATEMENT_ERROR(301)] Exception occurred: insertTablets failed. org.apache.iotdb.commons.exception.IoTDBException: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg1.d1.s1, root.sg1.d1.s2]
}
-- [1]154:insert into root.data.d1(time,s1) values(1,false)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.data.d1.s1]
}
-- [1]156:show device templates
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]158:create device template t3(temperature FLOAT encoding=Gorilla, status BOOLEAN encoding=PLAIN)
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]160:drop device template t2
STRICT{
SQLSTATE : 803: Only the admin user can perform this operation
}
-- [1]162:insert into root.db.d1(time,s1) values(1,1)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.db.d1.s1]
}
-- [1]164:revoke write_data on root.** from user user01
STRICT{
SQLSTATE : 803: Has no permission to execute REVOKE_USER, please ensure you have these privileges and the grant option is TRUE when granted)
}
-- [1]166:delete timeseries root.sg.d1.s1
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.d1.s1]
}
-- [1]168:delete view root.sg.view_device.s1
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.view_device.s1]
}
-- [1]170:create database root.test
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege MANAGE_DATABASE
}
-- [1]172:delete database root.**
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege MANAGE_DATABASE
}
-- [1]178:show version
STRICT{
PASS
}
-- [1]181:GRANT WRITE_DATA ON root.sg.d1.** TO USER user03
STRICT{
PASS
}

-- [1]181:show databases
STRICT{
Database(TEXT)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionOrigin(INT64)      |TimePartitionInterval(INT64)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]182:show child paths root
STRICT{
ChildPaths(TEXT)      |NodeTypes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]183:count nodes root.sg.** level=2
STRICT{
count(nodes)(INT64)      |
-------------------------
0                        |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]184:show devices
STRICT{
Device(TEXT)      |IsAligned(TEXT)      |Template(TEXT)      |TTL(ms)(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]185:count devices
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]186:show timeseries
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]187:count timeseries
STRICT{
count(timeseries)(INT64)      |
------------------------------
0                             |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]188:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]189:show all ttl
STRICT{
Device(TEXT)      |TTL(ms)(TEXT)      |
-------------------------------------
root.**           |INF                |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]190:select * from root.**
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |
-------------------------------------------------------------------------
1                    |1.0                       |1                         |
-------------------------------------------------------------------------
2                    |2.0                       |2                         |
-------------------------------------------------------------------------
3                    |3.0                       |3                         |
-------------------------------------------------------------------------
4                    |4.0                       |4                         |
总数目：4
}

Elapsed Time: 0.0.3
-- [1]191:insert into root.sg.d1(time,s1,s2) values(5,5,5)
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]192:select s1,s2 from root.sg.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |s1(FLOAT)      |s2(INT64)      |
---------------------------------------------------------------------
1                    |root.sg.d1        |1.0            |1              |
---------------------------------------------------------------------
2                    |root.sg.d1        |2.0            |2              |
---------------------------------------------------------------------
3                    |root.sg.d1        |3.0            |3              |
---------------------------------------------------------------------
4                    |root.sg.d1        |4.0            |4              |
---------------------------------------------------------------------
5                    |root.sg.d1        |5.0            |5              |
总数目：5
}

Elapsed Time: 0.0.3

-- [1]193:select s1 from root.** where time=3
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |
-----------------------------------------------
3                    |3.0                       |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]194:select * from root.** where s1=3
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |
-------------------------------------------------------------------------
3                    |3.0                       |3                         |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]195:select sin((s1+s2)/2) from root.sg.**
STRICT{
Time(TIMESTAMP)      |sin((root.sg.d1.s1 + root.sg.d1.s2) / 2)(DOUBLE)      |
---------------------------------------------------------------------------
1                    |0.8414709848078965                                    |
---------------------------------------------------------------------------
2                    |0.9092974268256817                                    |
---------------------------------------------------------------------------
3                    |0.1411200080598672                                    |
---------------------------------------------------------------------------
4                    |-0.7568024953079282                                   |
---------------------------------------------------------------------------
5                    |-0.9589242746631385                                   |
总数目：5
}

Elapsed Time: 0.0.3

-- [1]196:select count(*) from root.** group by level=1
STRICT{
count(root.sg.*.*)(INT64)      |
-------------------------------
10                             |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]197:select last(*) from root.**
STRICT{
Time(TIMESTAMP)      |Timeseries(TEXT)      |Value(TEXT)      |DataType(TEXT)      |
--------------------------------------------------------------------------------
5                    |root.sg.d1.s1         |5.0              |FLOAT               |
--------------------------------------------------------------------------------
5                    |root.sg.d1.s2         |5                |INT64               |
总数目：2
}

Elapsed Time: 0.0.6

-- [1]198:select count(s1) from root.** align by device
STRICT{
Device(TEXT)      |count(s1)(INT64)      |
----------------------------------------
root.sg.d1        |5                     |
总数目：1
}

Elapsed Time: 0.0.14
-- [1]199:delete from root.sg.d1.s1 where time=5
STRICT{
0
}

Elapsed Time: 0.0.2

-- [1]200:select * from root.sg.d1
STRICT{
Time(TIMESTAMP)      |root.sg.d1.s1(FLOAT)      |root.sg.d1.s2(INT64)      |
-------------------------------------------------------------------------
1                    |1.0                       |1                         |
-------------------------------------------------------------------------
2                    |2.0                       |2                         |
-------------------------------------------------------------------------
3                    |3.0                       |3                         |
-------------------------------------------------------------------------
4                    |4.0                       |4                         |
-------------------------------------------------------------------------
5                    |null                      |5                         |
总数目：5
}

Elapsed Time: 0.0.2
-- [1]202:revoke write_data on root.sg.d1.** from user user02
STRICT{
PASS
}

-- [1]204:LIST PRIVILEGES OF USER `user02`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
总数目：0
}

Elapsed Time: 0.0.1
-- [1]206:GRANT WRITE_DATA ON root.sg.d1.** TO USER user02
STRICT{
PASS
}

-- [1]208:LIST PRIVILEGES OF USER `user02`
STRICT{
Role(TEXT)      |Scope(TEXT)      |Privileges(TEXT)      |GrantOption(BOOLEAN)      |
---------------------------------------------------------------------------------
                |root.sg.d1.**    |WRITE_DATA            |false                     |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]210:insert into root.sg.d2(time,s1,s2) values(5,5,5)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_DATA on [root.sg.d2.s1, root.sg.d2.s2]
}
-- [1]212:create aligned timeseries root.sg.d1(s5 double encoding=rle, s6 int32 encoding=rle)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.d1.s5, root.sg.d1.s6]
}
-- [1]214:create timeseries root.sg.d2.s3 with datatype=INT32
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA
}
-- [1]216:create view root.sg.view_d1.s1 as select s1 from root.sg.d1
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege READ_SCHEMA on [root.sg.d1.s1]
}
-- [1]218:select s1,s2 into root.sg2.d1(s1,s2) from root.sg.d1
STRICT{
SQLSTATE : 301: Error occurred while inserting tablets in SELECT INTO: No permissions for this operation, please add privilege WRITE_DATA on [root.sg2.d1.s1, root.sg2.d1.s2]
}
-- [1]220:delete from root.sg.**
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_DATA on [root.sg.**]
}
-- [1]222:delete timeseries root.sg.d1.s1
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.d1.s1]
}
-- [1]228:show version
STRICT{
PASS
}

-- [1]230:select * from root.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |temperature(FLOAT)      |s1(FLOAT)      |s2(INT64)      |status(BOOLEAN)      |
------------------------------------------------------------------------------------------------------------------
1                    |root.sg.aligned_te|20.0                    |null           |null           |null                 |
                     |mplate            |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
2                    |root.sg.aligned_te|22.1                    |null           |null           |null                 |
                     |mplate            |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
3                    |root.sg.aligned_te|18.0                    |null           |null           |null                 |
                     |mplate            |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
1                    |root.sg.d1        |null                    |1.0            |1              |null                 |
------------------------------------------------------------------------------------------------------------------
2                    |root.sg.d1        |null                    |2.0            |2              |null                 |
------------------------------------------------------------------------------------------------------------------
3                    |root.sg.d1        |null                    |3.0            |3              |null                 |
------------------------------------------------------------------------------------------------------------------
4                    |root.sg.d1        |null                    |4.0            |4              |null                 |
------------------------------------------------------------------------------------------------------------------
5                    |root.sg.d1        |null                    |null           |5              |null                 |
------------------------------------------------------------------------------------------------------------------
1                    |root.sg.nonaligned|10.5                    |null           |null           |false                |
                     |_template         |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
2                    |root.sg.nonaligned|0.1                     |null           |null           |true                 |
                     |_template         |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
3                    |root.sg.nonaligned|22.2                    |null           |null           |false                |
                     |_template         |                        |               |               |                     |
总数目：11
}

Elapsed Time: 0.0.5
-- [1]231:insert into root.sg.nonaligned_template(time,temperature,status) values(10,18.8,false)
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]232:select * from root.sg.nonaligned_template
STRICT{
Time(TIMESTAMP)      |root.sg.nonaligned_template.temperature(FLOAT)      |root.sg.nonaligned_template.status(BOOLEAN)      |
--------------------------------------------------------------------------------------------------------------------------
1                    |10.5                                                |false                                            |
--------------------------------------------------------------------------------------------------------------------------
2                    |0.1                                                 |true                                             |
--------------------------------------------------------------------------------------------------------------------------
3                    |22.2                                                |false                                            |
--------------------------------------------------------------------------------------------------------------------------
10                   |18.8                                                |false                                            |
总数目：4
}

Elapsed Time: 0.0.2
-- [1]233:insert into root.sg.aligned_template(time,temperature) values(10,20.1)
STRICT{
0
}

Elapsed Time: 0.0.0

-- [1]234:select * from root.sg.aligned_template
STRICT{
Time(TIMESTAMP)      |root.sg.aligned_template.temperature(FLOAT)      |
----------------------------------------------------------------------
1                    |20.0                                             |
----------------------------------------------------------------------
2                    |22.1                                             |
----------------------------------------------------------------------
3                    |18.0                                             |
----------------------------------------------------------------------
10                   |20.1                                             |
总数目：4
}

Elapsed Time: 0.0.2

-- [1]235:select last(*) from root.sg.** order by timeseries
STRICT{
Time(TIMESTAMP)      |Timeseries(TEXT)      |Value(TEXT)      |DataType(TEXT)      |
--------------------------------------------------------------------------------
10                   |root.sg.aligned_templa|20.1             |FLOAT               |
                     |te.temperature        |                 |                    |
--------------------------------------------------------------------------------
4                    |root.sg.d1.s1         |4.0              |FLOAT               |
--------------------------------------------------------------------------------
5                    |root.sg.d1.s2         |5                |INT64               |
--------------------------------------------------------------------------------
10                   |root.sg.nonaligned_tem|false            |BOOLEAN             |
                     |plate.status          |                 |                    |
--------------------------------------------------------------------------------
10                   |root.sg.nonaligned_tem|18.8             |FLOAT               |
                     |plate.temperature     |                 |                    |
总数目：5
}

Elapsed Time: 0.0.5
-- [1]236:delete from root.sg.aligned_template.temperature
STRICT{
0
}

Elapsed Time: 0.0.6

-- [1]237:select * from root.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |temperature(FLOAT)      |s1(FLOAT)      |s2(INT64)      |status(BOOLEAN)      |
------------------------------------------------------------------------------------------------------------------
1                    |root.sg.d1        |null                    |1.0            |1              |null                 |
------------------------------------------------------------------------------------------------------------------
2                    |root.sg.d1        |null                    |2.0            |2              |null                 |
------------------------------------------------------------------------------------------------------------------
3                    |root.sg.d1        |null                    |3.0            |3              |null                 |
------------------------------------------------------------------------------------------------------------------
4                    |root.sg.d1        |null                    |4.0            |4              |null                 |
------------------------------------------------------------------------------------------------------------------
5                    |root.sg.d1        |null                    |null           |5              |null                 |
------------------------------------------------------------------------------------------------------------------
1                    |root.sg.nonaligned|10.5                    |null           |null           |false                |
                     |_template         |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
2                    |root.sg.nonaligned|0.1                     |null           |null           |true                 |
                     |_template         |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
3                    |root.sg.nonaligned|22.2                    |null           |null           |false                |
                     |_template         |                        |               |               |                     |
------------------------------------------------------------------------------------------------------------------
10                   |root.sg.nonaligned|18.8                    |null           |null           |false                |
                     |_template         |                        |               |               |                     |
总数目：9
}

Elapsed Time: 0.0.4
-- [1]239:revoke write_data on root.sg.aligned_template.temperature from user user03
STRICT{
SQLSTATE : 803: Has no permission to execute REVOKE_USER, please ensure you have these privileges and the grant option is TRUE when granted)
}
-- [1]241:insert into root.sg.d2(time,s1,s2) values(6,6,6)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_DATA on [root.sg.d2.s1, root.sg.d2.s2]
}
-- [1]243:delete from root.**
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_DATA on [root.**]
}
-- [1]245:delete timeseries root.sg.nonaligned_template.**
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_SCHEMA on [root.sg.nonaligned_template.**]
}
-- [1]251:show version
STRICT{
PASS
}

-- [1]253:show databases
STRICT{
Database(TEXT)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionOrigin(INT64)      |TimePartitionInterval(INT64)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]254:show timeseries
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]255:select * from root.**
STRICT{
Time(TIMESTAMP)      |
总数目：0
}

Elapsed Time: 0.0.2
-- [1]256:delete from root.data
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]258:insert into root.data.d1(time,s1) values(1,true)
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege WRITE_DATA on [root.data.d1.s1]
}
-- [1]260:delete database root.**
STRICT{
SQLSTATE : 803: No permissions for this operation, please add privilege MANAGE_DATABASE
}
