-- [1]17:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]27:CREATE STATELESS TRIGGER `normal01` AFTER INSERT ON root.sg1.d1.s1 AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',    'hi' = '15.5' )
STRICT{
PASS
}
-- [1]37:CREATE STATELESS TRIGGER `normal01` AFTER INSERT ON root.sg1.d1.s1 AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',    'hi' = '15.5' )
STRICT{
SQLSTATE : 922: Failed to create trigger [normal01], the same name trigger has been created
}

-- [1]40:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
normal01               |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.s1         |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.42

-- [1]42:show storage group
STRICT{
storage group(TEXT)      |ttl(ms)(INT64)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionInterval(INT64)      |SchemaRegionNum(INT32)      |DataRegionNum(INT32)      |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1                 |null                |2                                   |2                                 |604800000                         |1                           |0                         |
总数目：1
}

Elapsed Time: 0.0.22

-- [1]43:show devices
STRICT{
devices(TEXT)      |isAligned(TEXT)      |
----------------------------------------
root.sg1.d1        |false                |
总数目：1
}

Elapsed Time: 0.0.59

-- [1]44:show timeseries
STRICT{
timeseries(TEXT)      |alias(TEXT)      |storage group(TEXT)      |dataType(TEXT)      |encoding(TEXT)      |compression(TEXT)      |tags(TEXT)      |attributes(TEXT)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1.d1.s1        |null             |root.sg1                 |DOUBLE              |PLAIN               |SNAPPY                 |null            |null                  |
总数目：1
}

Elapsed Time: 0.0.10
-- [1]47:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (1, 0)
STRICT{
0
}

Elapsed Time: 0.0.453
-- [1]48:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (2, 2)
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]49:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (3, null)
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]50:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (4, 6)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]51:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (5, 8)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]53:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (6, 10)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]54:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (7, 12)
STRICT{
0
}

Elapsed Time: 0.1.257
-- [1]55:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (8, 15)
STRICT{
0
}

Elapsed Time: 0.0.33
-- [1]56:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (9, 16)
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]57:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (10, null)
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]61:show storage group
STRICT{
storage group(TEXT)      |ttl(ms)(INT64)      |SchemaReplicationFactor(INT32)      |DataReplicationFactor(INT32)      |TimePartitionInterval(INT64)      |SchemaRegionNum(INT32)      |DataRegionNum(INT32)      |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1                 |null                |2                                   |2                                 |604800000                         |1                           |1                         |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.ln                  |null                |2                                   |2                                 |604800000                         |1                           |1                         |
总数目：2
}

Elapsed Time: 0.0.3

-- [1]62:show devices
STRICT{
devices(TEXT)      |isAligned(TEXT)      |
----------------------------------------
root.sg1.d1        |false                |
----------------------------------------
root.ln.alerting   |true                 |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]63:show timeseries
STRICT{
timeseries(TEXT)      |alias(TEXT)      |storage group(TEXT)      |dataType(TEXT)      |encoding(TEXT)      |compression(TEXT)      |tags(TEXT)      |attributes(TEXT)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1.d1.s1        |null             |root.sg1                 |DOUBLE              |PLAIN               |SNAPPY                 |null            |null                  |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.ln.alerting.alert|null             |root.ln                  |TEXT                |PLAIN               |SNAPPY                 |null            |null                  |
_content              |                 |                         |                    |                    |                       |                |                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.ln.alerting.table|null             |root.ln                  |TEXT                |PLAIN               |SNAPPY                 |null            |null                  |
_name                 |                 |                         |                    |                    |                       |                |                      |
总数目：3
}

Elapsed Time: 0.0.28

-- [1]66:SELECT * FROM root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160760094   |[7] WARN [s1]: 12.0 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160761352   |[8] WARN [s1]: 15.0 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160761385   |[9] CRITICAL [s1]: 16.0 greater then 15.5 |root.sg1.d1                            |
总数目：3
}

Elapsed Time: 0.0.167

-- [1]67:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |
--------------------------------------------
1               |0.0                         |
--------------------------------------------
2               |2.0                         |
--------------------------------------------
4               |6.0                         |
--------------------------------------------
5               |8.0                         |
--------------------------------------------
6               |10.0                        |
--------------------------------------------
7               |12.0                        |
--------------------------------------------
8               |15.0                        |
--------------------------------------------
9               |16.0                        |
总数目：8
}

Elapsed Time: 0.0.31
-- [1]71:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.262

-- [1]72:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
normal01               |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.s1         |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]73:drop trigger `normal01`
STRICT{
PASS
}

-- [1]79:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]80:show timeseries root.**
STRICT{
timeseries(TEXT)      |alias(TEXT)      |storage group(TEXT)      |dataType(TEXT)      |encoding(TEXT)      |compression(TEXT)      |tags(TEXT)      |attributes(TEXT)      |
总数目：0
}

Elapsed Time: 0.0.4
-- [1]89:CREATE STATELESS TRIGGER `normal02` AFTER INSERT ON root.sg1.d1.s2 AS 'org.example.DoubleValueMonitor' with (   'remote_ip'='172.20.70.44' )
STRICT{
PASS
}

-- [1]91:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
normal02               |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.s2         |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]93:CREATE TIMESERIES root.sg1.d1.s2 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}

-- [1]94:show timeseries root.**
STRICT{
timeseries(TEXT)      |alias(TEXT)      |storage group(TEXT)      |dataType(TEXT)      |encoding(TEXT)      |compression(TEXT)      |tags(TEXT)      |attributes(TEXT)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1.d1.s2        |null             |root.sg1                 |DOUBLE              |PLAIN               |SNAPPY                 |null            |null                  |
总数目：1
}

Elapsed Time: 0.0.7
-- [1]96:INSERT INTO root.sg1.d1(timestamp, s2) VALUES (6, 10),(7,12),(1,88),(8,14),(9,160),(10,null),(11,58),(2,67.345)
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "INSERT INTO root.sg1.d1(timestamp, s2) VALUES (6, 10),(7,12),(1,88),(8,14),(9,160),(10,null),(11,58),(2,67.345)". executeStatement failed. null
EXPECT:PASS
}

-- [1]99:select * from root.ln.alerting
STRICT{
Time(TIME)      |
总数目：0
}

Elapsed Time: 0.0.3

-- [1]101:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s2(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.141

-- [1]102:show timeseries root.**
STRICT{
timeseries(TEXT)      |alias(TEXT)      |storage group(TEXT)      |dataType(TEXT)      |encoding(TEXT)      |compression(TEXT)      |tags(TEXT)      |attributes(TEXT)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.sg1.d1.s2        |null             |root.sg1                 |DOUBLE              |PLAIN               |SNAPPY                 |null            |null                  |
总数目：1
}

Elapsed Time: 0.0.19
-- [1]104:drop trigger `normal02`
STRICT{
PASS
}
-- [1]105:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.257
-- [1]112:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]113:CREATE TIMESERIES root.sg1.d1.s2 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]122:CREATE STATELESS TRIGGER `multi.double` AFTER INSERT ON root.sg1.d1.* AS 'org.example.DoubleValueMonitor' WITH (   'lo' = '10',   'hi' = '15.5' )
STRICT{
PASS
}

-- [1]123:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
multi.double           |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.*          |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.3
-- [1]125:insert into root.sg1.d1 (time, s1, s2) values (1, 4, 21)
STRICT{
0
}

Elapsed Time: 0.0.831
-- [1]126:insert into root.sg1.d1 (time, s1, s2) values (2, 11, 1)
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]127:insert into root.sg1.d1 (time, s1, s2) values (3, 8, 2)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]128:insert into root.sg1.d1 (time, s1, s2) values (4, 15.6, 210)
STRICT{
0
}

Elapsed Time: 0.0.7
-- [1]129:flush
STRICT{
PASS
}

-- [1]132:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160765863   |[1] CRITICAL [s2]: 21.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160766424   |[2] WARN [s1]: 11.0 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160766434   |[4] CRITICAL [s1]: 15.6 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160766436   |[4] CRITICAL [s2]: 210.0 greater then 15.5|root.sg1.d1                            |
总数目：4
}

Elapsed Time: 0.0.56

-- [1]134:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |root.sg1.d1.s2(DOUBLE)      |
------------------------------------------------------------------------
1               |4.0                         |21.0                        |
------------------------------------------------------------------------
2               |11.0                        |1.0                         |
------------------------------------------------------------------------
3               |8.0                         |2.0                         |
------------------------------------------------------------------------
4               |15.6                        |210.0                       |
总数目：4
}

Elapsed Time: 0.0.46
-- [1]136:drop trigger `multi.double`
STRICT{
PASS
}
-- [1]137:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.259
-- [1]143:set storage group to root.sg1
STRICT{
PASS
}
-- [1]145:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]152:CREATE STATELESS TRIGGER `wildcard-multi-device` AFTER INSERT ON root.sg1.** AS 'org.example.DoubleValueMonitor' WITH (   hi = 16.0,   remote_ip='172.20.70.44',   lo = 12 )
STRICT{
PASS
}
-- [1]156:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (1, 0),(2, 2),(3, 4),(4, 6),(5, 8),(6, NULL),(7, 12),(8, 14),(9, 16),(10, 18)
STRICT{
SQLSTATE : 500: [INTERNAL_SERVER_ERROR(500)] Exception occurred: "INSERT INTO root.sg1.d1(timestamp, s1) VALUES (1, 0),(2, 2),(3, 4),(4, 6),(5, 8),(6, NULL),(7, 12),(8, 14),(9, 16),(10, 18)". executeStatement failed. null
EXPECT:PASS
}
-- [1]156:flush
STRICT{
PASS
}

-- [1]160:SELECT * FROM root.ln.alerting
STRICT{
Time(TIME)      |
总数目：0
}

Elapsed Time: 0.0.3

-- [1]161:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.10
-- [1]164:CREATE TIMESERIES root.sg1.d2.s1 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]165:CREATE TIMESERIES root.sg1.d3.s1 WITH DATATYPE=float, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]167:INSERT INTO root.sg1.d2(timestamp, s1) VALUES (1, 0),(2, 12.33),(3, 4),(4, 6),(5, 18)
STRICT{
0
}

Elapsed Time: 0.1.9
-- [1]167:flush
STRICT{
PASS
}

-- [1]171:SELECT * FROM root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160769381   |[2] WARN [s1]: 12.33 greater then 12.0    |root.sg1.d2                            |
-------------------------------------------------------------------------------------------------
1668160769941   |[5] CRITICAL [s1]: 18.0 greater then 16.0 |root.sg1.d2                            |
总数目：2
}

Elapsed Time: 0.0.26

-- [1]172:select * from root.sg1.d2
STRICT{
Time(TIME)      |root.sg1.d2.s1(DOUBLE)      |
--------------------------------------------
1               |0.0                         |
--------------------------------------------
2               |12.33                       |
--------------------------------------------
3               |4.0                         |
--------------------------------------------
4               |6.0                         |
--------------------------------------------
5               |18.0                        |
总数目：5
}

Elapsed Time: 0.0.49
-- [1]175:INSERT INTO root.sg1.d3(timestamp, s1) VALUES (1, 0),(2, 12.33),(3, 4),(4, 6),(5, 18)
STRICT{
0
}

Elapsed Time: 0.0.26
-- [1]175:flush
STRICT{
PASS
}

-- [1]179:SELECT * FROM root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160769381   |[2] WARN [s1]: 12.33 greater then 12.0    |root.sg1.d2                            |
-------------------------------------------------------------------------------------------------
1668160769941   |[5] CRITICAL [s1]: 18.0 greater then 16.0 |root.sg1.d2                            |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]180:select * from root.sg1.d3
STRICT{
Time(TIME)      |root.sg1.d3.s1(FLOAT)      |
-------------------------------------------
1               |0.0                        |
-------------------------------------------
2               |12.33                      |
-------------------------------------------
3               |4.0                        |
-------------------------------------------
4               |6.0                        |
-------------------------------------------
5               |18.0                       |
总数目：5
}

Elapsed Time: 0.0.17
-- [1]183:drop trigger `wildcard-multi-device`
STRICT{
PASS
}
-- [1]184:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.258
-- [1]192:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]193:CREATE TIMESERIES root.sg1.d1.s2 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]203:CREATE STATELESS TRIGGER `multiTS` AFTER INSERT ON root.sg1.d1.** AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',   'hi' = '15.5' )
STRICT{
PASS
}

-- [1]203:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
multiTS                |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.**         |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]205:insert into root.sg1.d1(time,s2) values (1, 11.3),(2,10),(3,13.44)
STRICT{
0
}

Elapsed Time: 0.0.880
-- [1]206:flush
STRICT{
PASS
}

-- [1]208:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160772489   |[1] WARN [s2]: 11.3 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773085   |[3] WARN [s2]: 13.44 greater then 10.0    |root.sg1.d1                            |
总数目：2
}

Elapsed Time: 0.0.13
-- [1]210:insert into root.sg1.d1(time,s1,s2) values (6, 1, 2),(7,10,20)(8,13.44,15.6)
STRICT{
0
}

Elapsed Time: 0.0.19
-- [1]211:flush
STRICT{
PASS
}

-- [1]213:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160772489   |[1] WARN [s2]: 11.3 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773085   |[3] WARN [s2]: 13.44 greater then 10.0    |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773129   |[7] CRITICAL [s2]: 20.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773133   |[8] WARN [s1]: 13.44 greater then 10.0    |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773135   |[8] CRITICAL [s2]: 15.6 greater then 15.5 |root.sg1.d1                            |
总数目：5
}

Elapsed Time: 0.0.11

-- [1]214:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |root.sg1.d1.s2(DOUBLE)      |
------------------------------------------------------------------------
1               |null                        |11.3                        |
------------------------------------------------------------------------
2               |null                        |10.0                        |
------------------------------------------------------------------------
3               |null                        |13.44                       |
------------------------------------------------------------------------
6               |1.0                         |2.0                         |
------------------------------------------------------------------------
7               |10.0                        |20.0                        |
------------------------------------------------------------------------
8               |13.44                       |15.6                        |
总数目：6
}

Elapsed Time: 0.0.20
-- [1]217:CREATE TIMESERIES root.sg1.d2.s1 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]217:insert into root.sg1.d2(time, s1) values (1000,29.768),(2000,5.65),(3000,13.45)
STRICT{
0
}

Elapsed Time: 0.0.14

-- [1]219:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |root.sg1.d1.s2(DOUBLE)      |
------------------------------------------------------------------------
1               |null                        |11.3                        |
------------------------------------------------------------------------
2               |null                        |10.0                        |
------------------------------------------------------------------------
3               |null                        |13.44                       |
------------------------------------------------------------------------
6               |1.0                         |2.0                         |
------------------------------------------------------------------------
7               |10.0                        |20.0                        |
------------------------------------------------------------------------
8               |13.44                       |15.6                        |
总数目：6
}

Elapsed Time: 0.0.8

-- [1]220:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160772489   |[1] WARN [s2]: 11.3 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773085   |[3] WARN [s2]: 13.44 greater then 10.0    |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773129   |[7] CRITICAL [s2]: 20.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773133   |[8] WARN [s1]: 13.44 greater then 10.0    |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160773135   |[8] CRITICAL [s2]: 15.6 greater then 15.5 |root.sg1.d1                            |
总数目：5
}

Elapsed Time: 0.0.9
-- [1]222:drop trigger `multiTS`
STRICT{
PASS
}
-- [1]223:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.260
-- [1]230:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=int32, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]231:CREATE TIMESERIES root.sg1.d1.s2 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]241:CREATE STATELESS TRIGGER wildcard_1_sensor AFTER INSERT ON root.sg1.d1.** AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',   'hi' = '15.5' )
STRICT{
PASS
}

-- [1]241:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
wildcard_1_sensor      |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.**         |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]243:insert into root.sg1.d1(time,s1,s2) values (6, 1, 2),(7,10,20)(8,13, 15.6)
STRICT{
0
}

Elapsed Time: 0.0.819
-- [1]244:flush
STRICT{
PASS
}

-- [1]246:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160774576   |[7] CRITICAL [s2]: 20.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775114   |[8] CRITICAL [s2]: 15.6 greater then 15.5 |root.sg1.d1                            |
总数目：2
}

Elapsed Time: 0.0.12

-- [1]248:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(INT32)      |root.sg1.d1.s2(DOUBLE)      |
-----------------------------------------------------------------------
6               |1                          |2.0                         |
-----------------------------------------------------------------------
7               |10                         |20.0                        |
-----------------------------------------------------------------------
8               |13                         |15.6                        |
总数目：3
}

Elapsed Time: 0.0.8
-- [1]250:insert into root.sg1.d1(time,s2) values (6, 11.3),(2,10),(3,19),(10,3)
STRICT{
0
}

Elapsed Time: 0.0.12
-- [1]251:flush
STRICT{
PASS
}

-- [1]253:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160774576   |[7] CRITICAL [s2]: 20.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775114   |[8] CRITICAL [s2]: 15.6 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775158   |[6] WARN [s2]: 11.3 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775162   |[3] CRITICAL [s2]: 19.0 greater then 15.5 |root.sg1.d1                            |
总数目：4
}

Elapsed Time: 0.0.11

-- [1]255:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(INT32)      |root.sg1.d1.s2(DOUBLE)      |
-----------------------------------------------------------------------
2               |null                       |10.0                        |
-----------------------------------------------------------------------
3               |null                       |19.0                        |
-----------------------------------------------------------------------
6               |1                          |11.3                        |
-----------------------------------------------------------------------
7               |10                         |20.0                        |
-----------------------------------------------------------------------
8               |13                         |15.6                        |
-----------------------------------------------------------------------
10              |null                       |3.0                         |
总数目：6
}

Elapsed Time: 0.0.10
-- [1]258:CREATE TIMESERIES root.sg1.d2.s1 WITH DATATYPE=double, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]258:insert into root.sg1.d2(time, s1) values (1000,29.768),(2000,5.65),(3000,13.45)
STRICT{
0
}

Elapsed Time: 0.0.9
-- [1]259:flush
STRICT{
PASS
}

-- [1]260:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(INT32)      |root.sg1.d1.s2(DOUBLE)      |
-----------------------------------------------------------------------
2               |null                       |10.0                        |
-----------------------------------------------------------------------
3               |null                       |19.0                        |
-----------------------------------------------------------------------
6               |1                          |11.3                        |
-----------------------------------------------------------------------
7               |10                         |20.0                        |
-----------------------------------------------------------------------
8               |13                         |15.6                        |
-----------------------------------------------------------------------
10              |null                       |3.0                         |
总数目：6
}

Elapsed Time: 0.0.6

-- [1]262:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160774576   |[7] CRITICAL [s2]: 20.0 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775114   |[8] CRITICAL [s2]: 15.6 greater then 15.5 |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775158   |[6] WARN [s2]: 11.3 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160775162   |[3] CRITICAL [s2]: 19.0 greater then 15.5 |root.sg1.d1                            |
总数目：4
}

Elapsed Time: 0.0.8
-- [1]264:drop trigger `wildcard_1_sensor`
STRICT{
PASS
}
-- [1]265:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.259
-- [1]273:CREATE TIMESERIES root.sg1.d1.s1 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]282:CREATE STATELESS TRIGGER `alert01` AFTER INSERT ON root.sg1.d1.s1 AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   "lo" = '5' )
STRICT{
PASS
}
-- [1]284:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (1, 0)
STRICT{
0
}

Elapsed Time: 0.0.276
-- [1]285:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (2, 2)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]286:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (3, 4)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]287:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (4, 6)
STRICT{
0
}

Elapsed Time: 0.0.539
-- [1]288:INSERT INTO root.sg1.d1(timestamp, s1) VALUES (5, 8)
STRICT{
0
}

Elapsed Time: 0.0.5

-- [1]291:select * from root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160776721   |[4] WARN [s1]: 6.0 greater then 5.0       |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160777262   |[5] WARN [s1]: 8.0 greater then 5.0       |root.sg1.d1                            |
总数目：2
}

Elapsed Time: 0.0.16

-- [1]293:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |
--------------------------------------------
1               |0.0                         |
--------------------------------------------
2               |2.0                         |
--------------------------------------------
3               |4.0                         |
--------------------------------------------
4               |6.0                         |
--------------------------------------------
5               |8.0                         |
总数目：5
}

Elapsed Time: 0.0.18
-- [1]302:CREATE STATELESS TRIGGER `alert02` before INSERT ON root.sg1.d1.* AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',   hi = 80 )
STRICT{
PASS
}
-- [1]306:CREATE TIMESERIES root.sg1.d1.s2 WITH DATATYPE=DOUBLE, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]308:INSERT INTO root.sg1.d1(timestamp, s1, s2) VALUES (6,4,5.00000000000000000000000000001)
STRICT{
0
}

Elapsed Time: 0.0.12
-- [1]309:INSERT INTO root.sg1.d1(timestamp, s1, s2) VALUES (7,8,4.567)
STRICT{
0
}

Elapsed Time: 0.0.4
-- [1]310:INSERT INTO root.sg1.d1(timestamp, s1, s2) VALUES (8,10,18)
STRICT{
0
}

Elapsed Time: 0.0.10
-- [1]311:INSERT INTO root.sg1.d1(timestamp, s1, s2) VALUES (9,20,1.8)
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]312:INSERT INTO root.sg1.d1(timestamp, s1, s2) VALUES (10,120,80.00000000000000000000123)
STRICT{
0
}

Elapsed Time: 0.0.6

-- [1]317:SELECT * FROM root.ln.alerting
STRICT{
Time(TIME)      |root.ln.alerting.alert_content(TEXT)      |root.ln.alerting.table_name(TEXT)      |
-------------------------------------------------------------------------------------------------
1668160776721   |[4] WARN [s1]: 6.0 greater then 5.0       |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160777262   |[5] WARN [s1]: 8.0 greater then 5.0       |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778087   |[7] WARN [s1]: 8.0 greater then 5.0       |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778091   |[8] WARN [s2]: 18.0 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778094   |[8] WARN [s1]: 10.0 greater then 5.0      |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778101   |[9] WARN [s1]: 20.0 greater then 10.0     |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778105   |[9] WARN [s1]: 20.0 greater then 5.0      |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778109   |[10] CRITICAL [s1]: 120.0 greater then 80.|root.sg1.d1                            |
                |0                                         |                                       |
-------------------------------------------------------------------------------------------------
1668160778110   |[10] WARN [s2]: 80.0 greater then 10.0    |root.sg1.d1                            |
-------------------------------------------------------------------------------------------------
1668160778112   |[10] CRITICAL [s1]: 120.0 greater then 100|root.sg1.d1                            |
                |.0                                        |                                       |
总数目：10
}

Elapsed Time: 0.0.8

-- [1]318:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.s1(DOUBLE)      |root.sg1.d1.s2(DOUBLE)      |
------------------------------------------------------------------------
1               |0.0                         |null                        |
------------------------------------------------------------------------
2               |2.0                         |null                        |
------------------------------------------------------------------------
3               |4.0                         |null                        |
------------------------------------------------------------------------
4               |6.0                         |null                        |
------------------------------------------------------------------------
5               |8.0                         |null                        |
------------------------------------------------------------------------
6               |4.0                         |5.0                         |
------------------------------------------------------------------------
7               |8.0                         |4.567                       |
------------------------------------------------------------------------
8               |10.0                        |18.0                        |
------------------------------------------------------------------------
9               |20.0                        |1.8                         |
------------------------------------------------------------------------
10              |120.0                       |80.0                        |
总数目：10
}

Elapsed Time: 0.0.11
-- [1]321:drop trigger `alert01`
STRICT{
PASS
}
-- [1]322:drop trigger `alert02`
STRICT{
PASS
}
-- [1]323:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.257
-- [1]330:CREATE TIMESERIES root.sg1.d1.text1 WITH DATATYPE=text, ENCODING=PLAIN
STRICT{
PASS
}
-- [1]340:CREATE STATELESS TRIGGER `TypeNotTheSame` AFTER INSERT ON root.sg1.d1.text1 AS 'org.example.DoubleValueMonitor' WITH (   'remote_ip'='172.20.70.44',   'lo' = '10',   'hi' = '15.5' )
STRICT{
PASS
}

-- [1]341:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
TypeNotTheSame         |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d1.text1      |org.example.DoubleVal|ALL                |
                       |                 |                |                 |                       |ueMonitor            |                   |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]343:insert into root.sg1.d1 (time, text1) values (1, 'tomy')
STRICT{
0
}

Elapsed Time: 0.0.278
-- [1]344:insert into root.sg1.d1 (time, text1) values (2, 'localpath')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]345:insert into root.sg1.d1 (time, text1) values (3, 'prefix')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]346:insert into root.sg1.d1 (time, text1) values (4, 'iotdb')
STRICT{
0
}

Elapsed Time: 0.0.2

-- [1]348:select * from root.ln.alerting
STRICT{
Time(TIME)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]350:select * from root.sg1.d1
STRICT{
Time(TIME)      |root.sg1.d1.text1(TEXT)      |
---------------------------------------------
1               |tomy                         |
---------------------------------------------
2               |localpath                    |
---------------------------------------------
3               |prefix                       |
---------------------------------------------
4               |iotdb                        |
总数目：4
}

Elapsed Time: 0.0.8
-- [1]352:drop trigger `TypeNotTheSame`
STRICT{
PASS
}
-- [1]353:delete storage group root.**
STRICT{
0
}

Elapsed Time: 0.0.255
-- [1]361:CREATE STATELESS TRIGGER `min_class` AFTER INSERT ON root.sg1.d2.* AS 'com.timecho.test.EmptyTrigger'
STRICT{
PASS
}
-- [1]365:CREATE STATEful TRIGGER `min_class_stateful` before INSERT ON root.sg1.d2.* AS 'com.timecho.test.EmptyTrigger'
STRICT{
PASS
}

-- [1]367:show triggers
STRICT{
TriggerName(TEXT)      |Event(TEXT)      |Type(TEXT)      |State(TEXT)      |PathPattern(TEXT)      |ClassName(TEXT)      |Node ID(TEXT)      |
----------------------------------------------------------------------------------------------------------------------------------------
min_class              |AFTER_INSERT     |STATELESS       |ACTIVE           |root.sg1.d2.*          |com.timecho.test.Empt|ALL                |
                       |                 |                |                 |                       |yTrigger             |                   |
----------------------------------------------------------------------------------------------------------------------------------------
min_class_stateful     |BEFORE_INSERT    |STATEFUL        |ACTIVE           |root.sg1.d2.*          |com.timecho.test.Empt|1                  |
                       |                 |                |                 |                       |yTrigger             |                   |
总数目：2
}

Elapsed Time: 0.0.1
-- [1]369:drop trigger min_class
STRICT{
PASS
}
-- [1]370:drop trigger min_class_stateful
STRICT{
PASS
}
