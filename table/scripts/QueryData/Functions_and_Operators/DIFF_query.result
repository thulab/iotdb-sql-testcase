-- [1]10:create database test_db
STRICT{
PASS
}
-- [1]13:use test_db
STRICT{
PASS
}
-- [1]18:create table Table_A ( 	device_id STRING TAG, 	color STRING ATTRIBUTE, 	s0 BOOLEAN FIELD, 	s1 TEXT FIELD, 	s2 INT32 FIELD, 	s3 INT64 FIELD, 	s4 FLOAT FIELD, 	s5 DOUBLE FIELD, 	s6 BOOLEAN FIELD, 	s7 DATE FIELD, 	s8 TIMESTAMP FIELD, 	s9 STRING FIELD, 	s10 BLOB FIELD )
STRICT{
PASS
}

-- [1]34:show tables
STRICT{
TableName(TEXT)      |TTL(ms)(TEXT)      |
----------------------------------------
table_a              |INF                |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]37:desc Table_A
STRICT{
ColumnName(TEXT)      |DataType(TEXT)      |Category(TEXT)      |
--------------------------------------------------------------
time                  |TIMESTAMP           |TIME                |
--------------------------------------------------------------
device_id             |STRING              |TAG                 |
--------------------------------------------------------------
color                 |STRING              |ATTRIBUTE           |
--------------------------------------------------------------
s0                    |BOOLEAN             |FIELD               |
--------------------------------------------------------------
s1                    |TEXT                |FIELD               |
--------------------------------------------------------------
s2                    |INT32               |FIELD               |
--------------------------------------------------------------
s3                    |INT64               |FIELD               |
--------------------------------------------------------------
s4                    |FLOAT               |FIELD               |
--------------------------------------------------------------
s5                    |DOUBLE              |FIELD               |
--------------------------------------------------------------
s6                    |BOOLEAN             |FIELD               |
--------------------------------------------------------------
s7                    |DATE                |FIELD               |
--------------------------------------------------------------
s8                    |TIMESTAMP           |FIELD               |
--------------------------------------------------------------
s9                    |STRING              |FIELD               |
--------------------------------------------------------------
s10                   |BLOB                |FIELD               |
总数目：14
}

Elapsed Time: 0.0.2
-- [1]44:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 1, 'd1', 'red', false, 'v1', 10, 100, 11.1, 8.8, true, '2021-10-01', 1633046400000, 'abcd', X'abcd' )
STRICT{
0
}

Elapsed Time: 0.1.20
-- [1]49:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 2, 'd1', 'red', true, 'v2', 5, 121, 222.1, 12.2, false, '2022-10-01', 1724049989000, 'ertbsad', X'24ad' )
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]54:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 3, 'd1', 'yellow', true, 'v3', 13, 250, 1.1, 333.3, true, '2023-11-01', 1704046789000, 'zsefr345Der', X'a2cd' )
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]59:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 4, 'd1', 'green', false, 'v2', 4, 6, 21.1, 44.2, false, '2023-09-01', 1703047789000, 'sdf', X'24' )
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]64:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 5, 'd1', 'white', false, 'v1', 122, 110, 2.2, 9.9, false, '2022-11-01', 1701047739000, 'cfghesdgfaase', X'cd' )
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]69:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 6, 'd1', 'orange', false, 'v3', 8, 999, 123.1, 0.101, true, '2002-01-01', 1724049989000, 'ert', X'4d' )
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]74:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 7, 'd2', 'blue', true, 'v1', 0, 110, 22.2, 1.8, true, '2023-06-01', 1643046400000, 'test111', X'ac'  )
STRICT{
0
}

Elapsed Time: 0.0.58
-- [1]79:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 8, 'd2', 'purple', true, 'v3', 555, 1001, 202.1, 1.2, false, '2002-10-01', 1653046500000, 'ioep11', X'abcdef' )
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]84:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 9, 'd2', 'blue', false, 'v1', 1110, 888, 10.1, 11.1, true, '2023-11-11', 1699685189000, 'ueu', X'ce' )
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]89:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 10, 'd2', 'red', false, 'v2', 111, 222, 22.5, 13.3, true, '2020-10-11', 1702277189000, 'sad', X'ae' )
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]94:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 11, 'd2', 'red', null, 'v2', 111, 20, 2, 11.3, true, null, 1702277199000, 'sad', X'ae' )
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]99:INSERT INTO Table_A( time, device_id, color, s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 ) values( 12, 'd2', 'null', true, 'v2', null, 22, 2.5, 13.3, true, null, 1702277299000, 'sad', X'ae' )
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]102:select * from Table_A order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |color(STRING)      |s0(BOOLEAN)      |s1(TEXT)      |s2(INT32)      |s3(INT64)      |s4(FLOAT)      |s5(DOUBLE)      |s6(BOOLEAN)      |s7(DATE)      |s8(TIMESTAMP)      |s9(STRING)      |s10(BLOB)      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |false            |v1            |10             |100            |11.1           |8.8             |true             |2021-10-01    |2021-10-01T08:00:00|abcd            |0xabcd         |
01+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |true             |v2            |5              |121            |222.1          |12.2            |false            |2022-10-01    |2024-08-19T14:46:29|ertbsad         |0x24ad         |
02+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |true             |v3            |13             |250            |1.1            |333.3           |true             |2023-11-01    |2024-01-01T02:19:49|zsefr345Der     |0xa2cd         |
03+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |false            |v2            |4              |6              |21.1           |44.2            |false            |2023-09-01    |2023-12-20T12:49:49|sdf             |0x24           |
04+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |false            |v1            |122            |110            |2.2            |9.9             |false            |2022-11-01    |2023-11-27T09:15:39|cfghesdgfaase   |0xcd           |
05+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d1                     |orange             |false            |v3            |8              |999            |123.1          |0.101           |true             |2002-01-01    |2024-08-19T14:46:29|ert             |0x4d           |
06+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |true             |v1            |0              |110            |22.2           |1.8             |true             |2023-06-01    |2022-01-25T01:46:40|test111         |0xac           |
07+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |true             |v3            |555            |1001           |202.1          |1.2             |false            |2002-10-01    |2022-05-20T19:35:00|ioep11          |0xabcdef       |
08+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |false            |v1            |1110           |888            |10.1           |11.1            |true             |2023-11-11    |2023-11-11T14:46:29|ueu             |0xce           |
09+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |false            |v2            |111            |222            |22.5           |13.3            |true             |2020-10-11    |2023-12-11T14:46:29|sad             |0xae           |
10+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |null             |v2            |111            |20             |2.0            |11.3            |true             |null          |2023-12-11T14:46:39|sad             |0xae           |
11+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|d2                     |null               |true             |v2            |null           |22             |2.5            |13.3            |true             |null          |2023-12-11T14:48:19|sad             |0xae           |
12+08:00             |                       |                   |                 |              |               |               |               |                |                 |              |.000+08:00         |                |               |
总数目：12
}

Elapsed Time: 0.0.5

-- [1]106:select time,s2, diff(s2) as diff_result from (select time,s2 from table_a where device_id='d1' order by time,s2) order by time,s2,diff_result
STRICT{
time(TIMESTAMP)      |s2(INT32)      |diff_result(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:00.0|10             |null                     |
01+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|5              |-5.0                     |
02+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|13             |8.0                      |
03+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|4              |-9.0                     |
04+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|122            |118.0                    |
05+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|8              |-114.0                   |
06+08:00             |               |                         |
总数目：6
}

Elapsed Time: 0.0.5

-- [1]107:select time,s3, diff(s3) as diff_result from (select time,s3 from table_a where device_id='d1' order by time,s3) order by time,s3,diff_result
STRICT{
time(TIMESTAMP)      |s3(INT64)      |diff_result(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:00.0|100            |null                     |
01+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|121            |21.0                     |
02+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|250            |129.0                    |
03+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|6              |-244.0                   |
04+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|110            |104.0                    |
05+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|999            |889.0                    |
06+08:00             |               |                         |
总数目：6
}

Elapsed Time: 0.0.4

-- [1]108:select time,s4, diff(s4) as diff_result from (select time,s4 from table_a where device_id='d1' order by time,s4) order by time,s4,diff_result
STRICT{
time(TIMESTAMP)      |s4(FLOAT)      |diff_result(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:00.0|11.1           |null                     |
01+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|222.1          |211.0000057220459        |
02+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|1.1            |-221.00000607967377      |
03+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|21.1           |20.00000035762787        |
04+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|2.2            |-18.90000033378601       |
05+08:00             |               |                         |
-------------------------------------------------------------
1970-01-01T08:00:00.0|123.1          |120.89999842643738       |
06+08:00             |               |                         |
总数目：6
}

Elapsed Time: 0.0.4

-- [1]109:select time,s5, diff(s5) as diff_result from (select time,s5 from table_a where device_id='d1' order by time,s5) order by time,s5,diff_result
STRICT{
time(TIMESTAMP)      |s5(DOUBLE)      |diff_result(DOUBLE)      |
--------------------------------------------------------------
1970-01-01T08:00:00.0|8.8             |null                     |
01+08:00             |                |                         |
--------------------------------------------------------------
1970-01-01T08:00:00.0|12.2            |3.3999999999999986       |
02+08:00             |                |                         |
--------------------------------------------------------------
1970-01-01T08:00:00.0|333.3           |321.1                    |
03+08:00             |                |                         |
--------------------------------------------------------------
1970-01-01T08:00:00.0|44.2            |-289.1                   |
04+08:00             |                |                         |
--------------------------------------------------------------
1970-01-01T08:00:00.0|9.9             |-34.300000000000004      |
05+08:00             |                |                         |
--------------------------------------------------------------
1970-01-01T08:00:00.0|0.101           |-9.799                   |
06+08:00             |                |                         |
总数目：6
}

Elapsed Time: 0.0.5

-- [1]110:select time,s8, diff(s8) as diff_result from (select time,s8 from table_a where device_id='d1' order by time,s8) order by time,s8,diff_result
STRICT{
time(TIMESTAMP)      |s8(TIMESTAMP)      |diff_result(DOUBLE)      |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2021-10-01T08:00:00|null                     |
01+08:00             |.000+08:00         |                         |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2024-08-19T14:46:29|9.1003589E10             |
02+08:00             |.000+08:00         |                         |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2024-01-01T02:19:49|-2.00032E10              |
03+08:00             |.000+08:00         |                         |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2023-12-20T12:49:49|-9.99E8                  |
04+08:00             |.000+08:00         |                         |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2023-11-27T09:15:39|-2.00005E9               |
05+08:00             |.000+08:00         |                         |
-----------------------------------------------------------------
1970-01-01T08:00:00.0|2024-08-19T14:46:29|2.300225E10              |
06+08:00             |.000+08:00         |                         |
总数目：6
}

Elapsed Time: 0.0.4

-- [1]111:select time,s4, diff(s4, false) as diff_result01,s5, diff(s5, true) as diff_result02 from (select time,s4,s5 from table_a where device_id='d1' order by time,s4,s5) order by time,s4,diff_result01,s5,diff_result02 offset 2 limit 3
STRICT{
time(TIMESTAMP)      |s4(FLOAT)      |diff_result01(DOUBLE)      |s5(DOUBLE)      |diff_result02(DOUBLE)      |
----------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|1.1            |-221.00000607967377        |333.3           |321.1                      |
03+08:00             |               |                           |                |                           |
----------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|21.1           |20.00000035762787          |44.2            |-289.1                     |
04+08:00             |               |                           |                |                           |
----------------------------------------------------------------------------------------------------------
1970-01-01T08:00:00.0|2.2            |-18.90000033378601         |9.9             |-34.300000000000004        |
05+08:00             |               |                           |                |                           |
总数目：3
}

Elapsed Time: 0.0.10
-- [1]114:select s1, diff(s1) from table_a
STRICT{
SQLSTATE : 701: Scalar function diff only supports one numeric data types [INT32, INT64, FLOAT, DOUBLE] and one boolean
}
-- [1]115:select s6, diff(s6) from table_a
STRICT{
SQLSTATE : 701: Scalar function diff only supports one numeric data types [INT32, INT64, FLOAT, DOUBLE] and one boolean
}
-- [1]116:select s7, diff(s7) from table_a
STRICT{
SQLSTATE : 701: Scalar function diff only supports one numeric data types [INT32, INT64, FLOAT, DOUBLE] and one boolean
}
-- [1]117:select s9, diff(s9) from table_a
STRICT{
SQLSTATE : 701: Scalar function diff only supports one numeric data types [INT32, INT64, FLOAT, DOUBLE] and one boolean
}
-- [1]118:select s10, diff(s10) from table_a
STRICT{
SQLSTATE : 701: Scalar function diff only supports one numeric data types [INT32, INT64, FLOAT, DOUBLE] and one boolean
}
-- [1]121:drop database test_db
STRICT{
PASS
}
