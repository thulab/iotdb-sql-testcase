-- [1]10:create timeseries root.db.d1.s1 double
STRICT{
PASS
}
-- [1]11:create timeseries root.db.d1.s2 boolean
STRICT{
PASS
}
-- [1]12:create timeseries root.db.d1.s3 int32
STRICT{
PASS
}
-- [1]13:create timeseries root.db.d2.s1 double
STRICT{
PASS
}
-- [1]14:create timeseries root.db.d2.s2 boolean
STRICT{
PASS
}
-- [1]15:create timeseries root.db.d2.s3 int32
STRICT{
PASS
}
-- [1]17:create aligned timeseries root.db.d3(s1 double, s2 boolean, s3 int32)
STRICT{
PASS
}
-- [1]22:insert into root.db.d1(time,s1,s2,s3) values(1,1.12,false,10),(2,3.14,null,4),(3,null,true,null),(4,1.12,false,6),(5,0.11,true,12),(8,12.2,true,18)
STRICT{
0
}

Elapsed Time: 0.0.47
-- [1]23:insert into root.db.d2(time,s1,s2,s3) values(1,12.22,true,16),(3,5.55,false,8),(5,-0.12,null,9),(6,6.66,true,null),(7,13.3,true,8),(10,11.23,false,3)
STRICT{
0
}

Elapsed Time: 0.0.36
-- [1]24:insert into root.db.d3(time,s1,s2,s3) values(1,1.2,false,5),(2,2.2,true,7),(3,3.3,true,4),(6,6.6,false,9),(9,4.4,null,3),(10,11.1,false,7)
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]27:insert into root.sg.d1(time,s1,s2) values(1,1,false),(2,2,true)
STRICT{
0
}

Elapsed Time: 0.0.175
-- [1]28:insert into root.sg.d2(time,s1,s2,s3) values(1,1,false,1),(2,2,true,2)
STRICT{
0
}

Elapsed Time: 0.0.49

-- [1]31:select * from root.db.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |s3(INT32)      |s1(DOUBLE)      |s2(BOOLEAN)      |
---------------------------------------------------------------------------------------
1                    |root.db.d1        |10             |1.12            |false            |
---------------------------------------------------------------------------------------
2                    |root.db.d1        |4              |3.14            |null             |
---------------------------------------------------------------------------------------
3                    |root.db.d1        |null           |null            |true             |
---------------------------------------------------------------------------------------
4                    |root.db.d1        |6              |1.12            |false            |
---------------------------------------------------------------------------------------
5                    |root.db.d1        |12             |0.11            |true             |
---------------------------------------------------------------------------------------
8                    |root.db.d1        |18             |12.2            |true             |
---------------------------------------------------------------------------------------
1                    |root.db.d2        |16             |12.22           |true             |
---------------------------------------------------------------------------------------
3                    |root.db.d2        |8              |5.55            |false            |
---------------------------------------------------------------------------------------
5                    |root.db.d2        |9              |-0.12           |null             |
---------------------------------------------------------------------------------------
6                    |root.db.d2        |null           |6.66            |true             |
---------------------------------------------------------------------------------------
7                    |root.db.d2        |8              |13.3            |true             |
---------------------------------------------------------------------------------------
10                   |root.db.d2        |3              |11.23           |false            |
---------------------------------------------------------------------------------------
1                    |root.db.d3        |5              |1.2             |false            |
---------------------------------------------------------------------------------------
2                    |root.db.d3        |7              |2.2             |true             |
---------------------------------------------------------------------------------------
3                    |root.db.d3        |4              |3.3             |true             |
---------------------------------------------------------------------------------------
6                    |root.db.d3        |9              |6.6             |false            |
---------------------------------------------------------------------------------------
9                    |root.db.d3        |3              |4.4             |null             |
---------------------------------------------------------------------------------------
10                   |root.db.d3        |7              |11.1            |false            |
总数目：18
}

Elapsed Time: 0.0.5

-- [1]33:select avg(s1) from root.db.** having avg(s1) < avg(s3) align by device
STRICT{
Device(TEXT)      |avg(s1)(DOUBLE)      |
---------------------------------------
root.db.d1        |3.5379999999999994   |
---------------------------------------
root.db.d2        |8.14                 |
---------------------------------------
root.db.d3        |4.800000000000001    |
总数目：3
}

Elapsed Time: 0.0.7

-- [1]35:select count(*) from root.** having count(s1) > count(s2) or count(count) < count(s3) align by device
STRICT{
Device(TEXT)      |count(s3)(INT64)      |count(s1)(INT64)      |count(s2)(INT64)      |
------------------------------------------------------------------------------------
root.db.d2        |5                     |6                     |5                     |
------------------------------------------------------------------------------------
root.db.d3        |6                     |6                     |5                     |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]37:select first_value(s1) + first_value(s3) from root.db.** having first_value(s1) is not null and first_value(s3) is not null align by device
STRICT{
Device(TEXT)      |first_value(s1) + first_value(s3)(DOUBLE)      |
-----------------------------------------------------------------
root.db.d1        |11.120000000000001                             |
-----------------------------------------------------------------
root.db.d2        |28.22                                          |
-----------------------------------------------------------------
root.db.d3        |6.2                                            |
总数目：3
}

Elapsed Time: 0.0.5

-- [1]39:select last_value(s1), last_value(s2) from root.db.** group by ([1,10),2ms) having last_value(s1) is not null or last_value(s2) is not null align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |last_value(s1)(DOUBLE)      |last_value(s2)(BOOLEAN)      |
------------------------------------------------------------------------------------------------
1                    |root.db.d1        |3.14                        |false                        |
------------------------------------------------------------------------------------------------
3                    |root.db.d1        |1.12                        |false                        |
------------------------------------------------------------------------------------------------
5                    |root.db.d1        |0.11                        |true                         |
------------------------------------------------------------------------------------------------
7                    |root.db.d1        |12.2                        |true                         |
------------------------------------------------------------------------------------------------
1                    |root.db.d2        |12.22                       |true                         |
------------------------------------------------------------------------------------------------
3                    |root.db.d2        |5.55                        |false                        |
------------------------------------------------------------------------------------------------
5                    |root.db.d2        |6.66                        |true                         |
------------------------------------------------------------------------------------------------
7                    |root.db.d2        |13.3                        |true                         |
------------------------------------------------------------------------------------------------
1                    |root.db.d3        |2.2                         |true                         |
------------------------------------------------------------------------------------------------
3                    |root.db.d3        |3.3                         |true                         |
------------------------------------------------------------------------------------------------
5                    |root.db.d3        |6.6                         |false                        |
------------------------------------------------------------------------------------------------
9                    |root.db.d3        |4.4                         |null                         |
总数目：12
}

Elapsed Time: 0.0.3

-- [1]42:select * from root.sg.** align by device
STRICT{
Time(TIMESTAMP)      |Device(TEXT)      |s1(DOUBLE)      |s2(BOOLEAN)      |s3(DOUBLE)      |
----------------------------------------------------------------------------------------
1                    |root.sg.d1        |1.0             |false            |null            |
----------------------------------------------------------------------------------------
2                    |root.sg.d1        |2.0             |true             |null            |
----------------------------------------------------------------------------------------
1                    |root.sg.d2        |1.0             |false            |1.0             |
----------------------------------------------------------------------------------------
2                    |root.sg.d2        |2.0             |true             |2.0             |
总数目：4
}

Elapsed Time: 0.0.2

-- [1]43:select count(s1) from root.sg.** having count(s1)=count(s2) align by device
STRICT{
Device(TEXT)      |count(s1)(INT64)      |
----------------------------------------
root.sg.d1        |2                     |
----------------------------------------
root.sg.d2        |2                     |
总数目：2
}

Elapsed Time: 0.0.2
-- [1]46:select avg(s1) from root.sg.** having avg(s1) < avg(s3) align by device
STRICT{
SQLSTATE : 305: [INTERNAL_SERVER_ERROR(305)] Exception occurred: "select avg(s1) from root.sg.** having avg(s1) < avg(s3) align by device". executeStatement failed. Unsupported dataType: UNKNOWN
}
