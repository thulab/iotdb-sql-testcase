
-- [1]4:create database root.db
STRICT{
PASS
}

-- [1]5:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]6:create timeseries root.db.t1.col2 with datatype=INT64
STRICT{
PASS
}

-- [1]7:create timeseries root.db.t1.col3 with datatype=boolean
STRICT{
PASS
}

-- [1]8:create timeseries root.db.t1.col4 with datatype=text
STRICT{
PASS
}

-- [1]9:create timeseries root.db.t1.col5 with datatype=float
STRICT{
PASS
}

-- [1]10:create timeseries root.db.t1.col6 with datatype=double
STRICT{
PASS
}

-- [1]11:create timeseries root.db.t1.col7 with datatype=INT32
STRICT{
PASS
}

-- [1]12:create timeseries root.db.t1.col8 with datatype=INT32
STRICT{
PASS
}

-- [1]13:create timeseries root.db.t1.col9 with datatype=INT32
STRICT{
PASS
}

-- [1]14:create timeseries root.db.t1.col10 with datatype=INT32
STRICT{
PASS
}

-- [1]15:insert into root.db.t1(time,col1,col2,col3,col4,col5,col6,col7,col8,col9,col10)values(1,1,1,true,"hello",1.1,1.1,1,1,1,1)
STRICT{
0
}
Elapsed Time: 0.0.39

-- [1]16:insert into root.db.t1(time,col1,col2,col3,col4,col5,col6,col7,col8,col9,col10)values(2,2,2,false,"world",2.1,2.1,2,2,2,2)
STRICT{
0
}
Elapsed Time: 0.0.2

-- [1]17:create view root.db.view1(col1,col2,col3,col4,col5,col6,col7,col8,col9,col10) as root.db.t1(col1,col2,col3,col4,col5,col6,col7,col8,col9,col10)
STRICT{
PASS
}

-- [1]18:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col8    |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col8   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col9    |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col9   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col6    |root.db             |DOUBLE              |null            |null                  |VIEW                |root.db.t1.col6   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col10   |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col10  |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col7    |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col7   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col4    |root.db             |TEXT                |null            |null                  |VIEW                |root.db.t1.col4   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col5    |root.db             |FLOAT               |null            |null                  |VIEW                |root.db.t1.col5   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col2    |root.db             |INT64               |null            |null                  |VIEW                |root.db.t1.col2   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col3    |root.db             |BOOLEAN             |null            |null                  |VIEW                |root.db.t1.col3   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col1    |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col1   |
总数目：10
}
Elapsed Time: 0.0.3

-- [1]19:create view root.db.v1_of_view1(col1,col3,col5,col7,col9) as root.db.view1(col1,col3,col5,col7,col9)
STRICT{
SQLSTATE : 300: Can not create a view based on existing views.
}

-- [1]22:create view root.db.v1_of_view1(col1,col3) as root.db.view1.col1,root.db.t1.col3
STRICT{
SQLSTATE : 300: Can not create a view based on existing views.
}

-- [1]25:create view root.db.v1_of_view1(col1,col3) as root.db.t1.col1,root.db.view1.col3
STRICT{
SQLSTATE : 300: Can not create a view based on existing views.
}

-- [1]27:select col1,col2,col3,col4,col5,col6,col7,col8,col9,col10 from root.db.t1
STRICT{
Time(TIMESTAMP)      |root.db.t1.col1(INT32)      |root.db.t1.col2(INT64)      |root.db.t1.col3(BOOLEAN)      |root.db.t1.col4(TEXT)      |root.db.t1.col5(FLOAT)      |root.db.t1.col6(DOUBLE)      |root.db.t1.col7(INT32)      |root.db.t1.col8(INT32)      |root.db.t1.col9(INT32)      |root.db.t1.col10(INT32)      |
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                    |1                           |1                           |true                          |hello                      |1.1                         |1.1                          |1                           |1                           |1                           |1                            |
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2                    |2                           |2                           |false                         |world                      |2.1                         |2.1                          |2                           |2                           |2                           |2                            |
总数目：2
}
Elapsed Time: 0.0.6

-- [1]28:select col1,col2,col3,col4,col5,col6,col7,col8,col9,col10 from root.db.view1
STRICT{
Time(TIMESTAMP)      |root.db.view1.col1(INT32)      |root.db.view1.col2(INT64)      |root.db.view1.col3(BOOLEAN)      |root.db.view1.col4(TEXT)      |root.db.view1.col5(FLOAT)      |root.db.view1.col6(DOUBLE)      |root.db.view1.col7(INT32)      |root.db.view1.col8(INT32)      |root.db.view1.col9(INT32)      |root.db.view1.col10(INT32)      |
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                    |1                              |1                              |true                             |hello                         |1.1                            |1.1                             |1                              |1                              |1                              |1                               |
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2                    |2                              |2                              |false                            |world                         |2.1                            |2.1                             |2                              |2                              |2                              |2                               |
总数目：2
}
Elapsed Time: 0.0.3

-- [1]30:create view root.db.v1_of_view1(col1,col3) as root.db.t1.col1
STRICT{
SQLSTATE : 300: The number of target paths (2) and sources (1) are miss matched! Please check your SQL.
}

-- [1]32:create view root.db.v1_of_view1(col1,col3) as root.db.t1.col1,root.db.t1.col1,root.db.t1.col1
STRICT{
SQLSTATE : 300: The number of target paths (2) and sources (3) are miss matched! Please check your SQL.
}

-- [1]35:create view root.db.v1_of_view1(col1,col3) as root.db.t1.col1,root.db.t1.col1
STRICT{
PASS
}

-- [1]36:select col1,col3 from root.db.v1_of_view1
STRICT{
Time(TIMESTAMP)      |root.db.v1_of_view1.col1(INT32)      |root.db.v1_of_view1.col3(INT32)      |
-----------------------------------------------------------------------------------------------
1                    |1                                    |1                                    |
-----------------------------------------------------------------------------------------------
2                    |2                                    |2                                    |
总数目：2
}
Elapsed Time: 0.0.1

-- [1]37:drop database root.db
STRICT{
PASS
}

-- [1]41:create database root.db
STRICT{
PASS
}

-- [1]42:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]43:create timeseries root.db.t1.col2 with datatype=INT64
STRICT{
PASS
}

-- [1]44:create timeseries root.db.t1.col3 with datatype=boolean
STRICT{
PASS
}

-- [1]45:create timeseries root.db.t1.col4 with datatype=text
STRICT{
PASS
}

-- [1]46:create timeseries root.db.t1.col5 with datatype=float
STRICT{
PASS
}

-- [1]47:create timeseries root.db.t1.col6 with datatype=double
STRICT{
PASS
}

-- [1]48:create timeseries root.db.t1.col7 with datatype=INT32
STRICT{
PASS
}

-- [1]49:create timeseries root.db.t1.col8 with datatype=INT32
STRICT{
PASS
}

-- [1]50:create timeseries root.db.t1.col9 with datatype=INT32
STRICT{
PASS
}

-- [1]51:create timeseries root.db.t1.col10 with datatype=INT32
STRICT{
PASS
}

-- [1]52:insert into root.db.t1(time,col1,col2,col3,col4,col5,col6,col7,col8,col9,col10)values(1,1,1,true,"hello",1.1,1.1,1,1,1,1)
STRICT{
0
}
Elapsed Time: 0.0.854

-- [1]53:insert into root.db.t1(time,col1,col2,col3,col4,col5,col6,col7,col8,col9,col10)values(2,2,2,false,"world",2.1,2.1,2,2,2,2)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]55:create view root.db.view1.col1 as select col1+col7 from root.db.t1
STRICT{
PASS
}

-- [1]56:select col1 from root.db.view1
STRICT{
Time(TIMESTAMP)      |root.db.view1.col1(DOUBLE)      |
-----------------------------------------------------
1                    |2.0                             |
-----------------------------------------------------
2                    |4.0                             |
总数目：2
}
Elapsed Time: 0.0.2

-- [1]57:insert into root.db.view1(time,col1) values(3,7)
STRICT{
SQLSTATE : 507: Can not insert data to a view which is not alias series. (View path: root.db.view1.col1)
}

-- [1]60:alter view root.db.view1.col1 as select col1+100 from root.db.t1
STRICT{
0
}
Elapsed Time: 0.0.14

-- [1]61:show view root.db.view1.col1
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.view1.col1    |root.db             |DOUBLE              |null            |null                  |VIEW                |root.db.t1.col1 + |
                      |                    |                    |                |                      |                    |100               |
总数目：1
}
Elapsed Time: 0.0.1

-- [1]63:insert into root.db.view1(time,col1) values(3,7)
STRICT{
SQLSTATE : 507: Can not insert data to a view which is not alias series. (View path: root.db.view1.col1)
}

-- [1]66:alter view root.db.view1.col1 as select col1 from root.db.t1 where col1>10
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:61 mismatched input 'where' expecting {<EOF>, ';'}
}

-- [1]68:drop database root.db
STRICT{
PASS
}

-- [1]71:create database root.db
STRICT{
PASS
}

-- [1]72:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]73:create timeseries root.db.t1.col2 with datatype=INT64
STRICT{
PASS
}

-- [1]74:insert into root.db.t1(time,col1,col2) values(1,1,1)
STRICT{
0
}
Elapsed Time: 0.0.829

-- [1]75:insert into root.db.t1(time,col1,col2) values(2,2,2)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]76:create view root.db.t1.view_col_1 as COUNT TIMESERIES root.** GROUP BY LEVEL=1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:37 mismatched input 'COUNT' expecting {ROOT, SELECT}
}

-- [1]79:create view root.db.t1.view_col_1 as select count(col1) from root.db.t1 group by level=1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:72 mismatched input 'group' expecting {<EOF>, ';'}
}

-- [1]82:create view root.db.t1.view_col_1 as select col2/col1 from root.db.t1
STRICT{
PASS
}

-- [1]83:select view_col_1,col2,col1 from root.db.t1
STRICT{
Time(TIMESTAMP)      |root.db.t1.view_col_1(INT64)      |root.db.t1.col2(INT64)      |root.db.t1.col1(INT32)      |
---------------------------------------------------------------------------------------------------------------
1                    |1                                 |1                           |1                           |
---------------------------------------------------------------------------------------------------------------
2                    |1                                 |2                           |2                           |
总数目：2
}
Elapsed Time: 0.0.4

-- [1]84:delete timeseries root.db.t1.col1
STRICT{
0
}
Elapsed Time: 0.0.22

-- [1]85:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_1 |root.db             |UNKNOWN             |null            |null                  |VIEW                |root.db.t1.col2 / |
                      |                    |                    |                |                      |                    |root.db.t1.col1   |
总数目：1
}
Elapsed Time: 0.0.2

-- [1]87:select view_col_1,col2,col1 from root.db.t1
STRICT{
SQLSTATE : 507: The source path [root.db.t1.col1] is deleted
}

-- [1]89:create timeseries root.db.t1.col1 with datatype=text
STRICT{
PASS
}

-- [1]90:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_1 |root.db             |UNKNOWN             |null            |null                  |VIEW                |root.db.t1.col2 / |
                      |                    |                    |                |                      |                    |root.db.t1.col1   |
总数目：1
}
Elapsed Time: 0.0.2

-- [1]92:create view root.db.t1.view_col_2 as select col1 from root.db.t1
STRICT{
PASS
}

-- [1]93:show view root.db.t1.view_col_2
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_2 |root.db             |TEXT                |null            |null                  |VIEW                |root.db.t1.col1   |
总数目：1
}
Elapsed Time: 0.0.1

-- [1]94:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_2 |root.db             |TEXT                |null            |null                  |VIEW                |root.db.t1.col1   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_1 |root.db             |UNKNOWN             |null            |null                  |VIEW                |root.db.t1.col2 / |
                      |                    |                    |                |                      |                    |root.db.t1.col1   |
总数目：2
}
Elapsed Time: 0.0.2

-- [1]96:delete timeseries root.db.t1.col1
STRICT{
0
}
Elapsed Time: 0.0.22

-- [1]97:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]98:show view
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_2 |root.db             |INT32               |null            |null                  |VIEW                |root.db.t1.col1   |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.t1.view_col_1 |root.db             |INT64               |null            |null                  |VIEW                |root.db.t1.col2 / |
                      |                    |                    |                |                      |                    |root.db.t1.col1   |
总数目：2
}
Elapsed Time: 0.0.3

-- [1]99:select view_col_1,view_col_2,col2,col1 from root.db.t1
STRICT{
Time(TIMESTAMP)      |root.db.t1.view_col_1(INT64)      |root.db.t1.view_col_2(INT32)      |root.db.t1.col2(INT64)      |root.db.t1.col1(INT32)      |
-------------------------------------------------------------------------------------------------------------------------------------------------
1                    |null                              |null                              |1                           |null                        |
-------------------------------------------------------------------------------------------------------------------------------------------------
2                    |null                              |null                              |2                           |null                        |
总数目：2
}
Elapsed Time: 0.0.2

-- [1]100:drop database root.db
STRICT{
PASS
}

-- [1]101:show view root.db.**
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
总数目：0
}
Elapsed Time: 0.0.1

-- [1]104:create database root.db
STRICT{
PASS
}

-- [1]105:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]106:create timeseries root.db.t1.col2 with datatype=INT64
STRICT{
PASS
}

-- [1]107:insert into root.db.t1(time,col1,col2) values(1,1,1)
STRICT{
0
}
Elapsed Time: 0.0.885

-- [1]108:insert into root.db.t1(time,col1,col2) values(2,2,2)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]109:create view root.db.t1.view_col_1 as select col1 from root.db.t1 limit 1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:65 mismatched input 'limit' expecting {<EOF>, ';'}
}

-- [1]112:create view root.db.t1.view_col_1 as select col1 from root.db.t1 order by col1 desc
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:65 mismatched input 'order' expecting {<EOF>, ';'}
}

-- [1]115:create aligned view root.db.t1.view_col_1 as select col1 from root.db.t1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:15 mismatched input 'view' expecting TIMESERIES
}

-- [1]117:drop database root.db
STRICT{
PASS
}

-- [1]119:create database root.db
STRICT{
PASS
}

-- [1]120:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]121:create timeseries root.db.t1.col2 with datatype=INT64
STRICT{
PASS
}

-- [1]122:insert into root.db.t1(time,col1,col2) values(1,1,1)
STRICT{
0
}
Elapsed Time: 0.0.48

-- [1]123:insert into root.db.t1(time,col1,col2) values(2,2,2)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]124:create view root.db.t1.view_col_1 with datatype=DOUBLE ,ENCODING=RLE as select col1 from root.db.t1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:34 mismatched input 'with' expecting {AS, '.', ','}
}

-- [1]126:drop database root.db
STRICT{
PASS
}

-- [1]128:create database root.db
STRICT{
PASS
}

-- [1]129:create timeseries root.db.t1.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]130:create timeseries root.db.t2.col1 with datatype=INT32
STRICT{
PASS
}

-- [1]131:create view root.db.t1.col1 as select * from root.db.t2
STRICT{
SQLSTATE : 503: Path [root.db.t1.col1] already exist
}

-- [1]133:create view root.db.v1.col1 as select * from root.db.t_not_exist
STRICT{
SQLSTATE : 300: Columns in the query statement is empty. Please check your SQL.
}

-- [1]135:create view root.db.v1.col1 as select * from root.db.t1,root.db.t_not_exist
STRICT{
PASS
}

-- [1]136:create view root.db.v1(col1,col2) as select col1 from root.db.t1,root.db.t_not_exist
STRICT{
SQLSTATE : 300: The number of target paths (2) and sources (1) are miss matched! Please check your SQL.
}

-- [1]138:insert into root.db.v1(time,col1) values(100,1000)
STRICT{
0
}
Elapsed Time: 0.0.49

-- [1]139:select * from root.db.v1,root.db.t1
STRICT{
Time(TIMESTAMP)      |root.db.v1.col1(INT32)      |root.db.t1.col1(INT32)      |
-----------------------------------------------------------------------------
100                  |1000                        |1000                        |
总数目：1
}
Elapsed Time: 0.0.3

-- [1]140:drop database root.db
STRICT{
PASS
}

-- [1]145:create database root.db
STRICT{
PASS
}

-- [1]146:create database root.view
STRICT{
PASS
}

-- [1]147:create aligned timeseries root.db.d1(s01 INT32,s02 INT64)
STRICT{
PASS
}

-- [1]148:create timeseries root.db.d2.s01 with datatype=INT32
STRICT{
PASS
}

-- [1]149:create timeseries root.db.d2.s02 with datatype=TEXT
STRICT{
PASS
}

-- [1]150:create view root.view.v1(col1,col2) as root.db.d1.s01,root.db.d2.s01
STRICT{
PASS
}

-- [1]152:insert into root.db.d1(time,s01,s02)aligned values(100,200,300)
STRICT{
0
}
Elapsed Time: 0.0.56

-- [1]153:insert into root.db.d1(time,s01,s02)aligned values(200,300,400)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]154:insert into root.db.d2(time,s01,s02) values(300,300,400)
STRICT{
0
}
Elapsed Time: 0.0.45

-- [1]155:insert into root.db.d2(time,s01,s02) values(400,300,400)
STRICT{
0
}
Elapsed Time: 0.0.0

-- [1]156:insert into root.view.v1(time,col1) aligned values(300,"hello")
STRICT{
SQLSTATE : 507: Fail to insert measurements [col1] caused by [data type is not consistent, input 'hello', registered INT32]
}

-- [1]158:insert into root.view.v1(time,col1) aligned values(300,2147483647)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]159:select col1,col2 from root.view.v1
STRICT{
Time(TIMESTAMP)      |root.view.v1.col1(INT32)      |root.view.v1.col2(INT32)      |
---------------------------------------------------------------------------------
100                  |200                           |null                          |
---------------------------------------------------------------------------------
200                  |300                           |null                          |
---------------------------------------------------------------------------------
300                  |2147483647                    |300                           |
---------------------------------------------------------------------------------
400                  |null                          |300                           |
总数目：4
}
Elapsed Time: 0.0.3

-- [1]160:flush
STRICT{
PASS
}

-- [1]161:select col1,col2 from root.view.v1
STRICT{
Time(TIMESTAMP)      |root.view.v1.col1(INT32)      |root.view.v1.col2(INT32)      |
---------------------------------------------------------------------------------
100                  |200                           |null                          |
---------------------------------------------------------------------------------
200                  |300                           |null                          |
---------------------------------------------------------------------------------
300                  |2147483647                    |300                           |
---------------------------------------------------------------------------------
400                  |null                          |300                           |
总数目：4
}
Elapsed Time: 0.0.3

-- [1]162:select count(col1),count(col2) from root.view.v1
STRICT{
count(root.view.v1.col1)(INT64)      |count(root.view.v1.col2)(INT64)      |
--------------------------------------------------------------------------
3                                    |2                                    |
总数目：1
}
Elapsed Time: 0.0.3

-- [1]163:drop database root.db
STRICT{
PASS
}

-- [1]164:drop database root.view
STRICT{
PASS
}

-- [1]168:create database root.db
STRICT{
PASS
}

-- [1]169:create database root.view
STRICT{
PASS
}

-- [1]170:create aligned timeseries root.db.d1(s01 INT32,s02 INT64)
STRICT{
PASS
}

-- [1]171:create timeseries root.db.d2.s01 with datatype=INT32
STRICT{
PASS
}

-- [1]172:create timeseries root.db.d2.s02 with datatype=TEXT
STRICT{
PASS
}

-- [1]173:create view root.view.v1(col1,col2) as select s01+s02 from root.db.**
STRICT{
SQLSTATE : 701: Invalid input expression data type. expression: root.db.d2.s02, actual data type: TEXT, expected data type(s): [INT32, INT64, FLOAT, DOUBLE].
}

-- [1]175:show view root.view.v1
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
总数目：0
}
Elapsed Time: 0.0.1

-- [1]176:drop database root.db
STRICT{
PASS
}

-- [1]177:drop database root.view
STRICT{
PASS
}

-- [1]182:create database root.db
STRICT{
PASS
}

-- [1]183:create database root.view
STRICT{
PASS
}

-- [1]184:create aligned timeseries root.db.d1(s01 INT32,s02 INT64)
STRICT{
PASS
}

-- [1]185:create timeseries root.db.d2.s01 with datatype=INT32
STRICT{
PASS
}

-- [1]186:create timeseries root.db.d2.s02 with datatype=TEXT
STRICT{
PASS
}

-- [1]187:create view root.view.v1(col_sum) as select s01+s02 from root.db.d1
STRICT{
PASS
}

-- [1]188:show view root.view.v1.*
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.view.v1.col_sum  |root.view           |DOUBLE              |null            |null                  |VIEW                |root.db.d1.s01 + r|
                      |                    |                    |                |                      |                    |oot.db.d1.s02     |
总数目：1
}
Elapsed Time: 0.0.1

-- [1]189:insert into root.view.v1(time,col_sum) aligned values(300,2147483647)
STRICT{
SQLSTATE : 507: Can not insert data to a view which is not alias series. (View path: root.view.v1.col_sum)
}

-- [1]191:insert into root.view.v1(time,col_sum) aligned values(300,2147483647)
STRICT{
SQLSTATE : 507: Can not insert data to a view which is not alias series. (View path: root.view.v1.col_sum)
}

-- [1]193:select * from root.view.v1
STRICT{
Time(TIMESTAMP)      |root.view.v1.col_sum(DOUBLE)      |
总数目：0
}
Elapsed Time: 0.0.1

-- [1]194:insert into root.db.d1(time,s01,s02)aligned values(100,200,300)
STRICT{
0
}
Elapsed Time: 0.0.36

-- [1]195:insert into root.db.d1(time,s01,s02)aligned values(200,300,400)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]196:select * from root.view.v1
STRICT{
Time(TIMESTAMP)      |root.view.v1.col_sum(DOUBLE)      |
-------------------------------------------------------
100                  |500.0                             |
-------------------------------------------------------
200                  |700.0                             |
总数目：2
}
Elapsed Time: 0.0.2

-- [1]197:drop database root.db
STRICT{
PASS
}

-- [1]198:drop database root.view
STRICT{
PASS
}

-- [1]201:create schema template t1 (temperature FLOAT encoding=RLE, status BOOLEAN encoding=PLAIN compression=SNAPPY)
STRICT{
PASS
}

-- [1]202:create database root.db
STRICT{
PASS
}

-- [1]203:create database root.view
STRICT{
PASS
}

-- [1]204:create aligned timeseries root.db.d1(s01 FLOAT,s02 BOOLEAN)
STRICT{
PASS
}

-- [1]205:create timeseries root.db.d2.s01 with datatype=INT32
STRICT{
PASS
}

-- [1]206:create timeseries root.db.d2.s02 with datatype=TEXT
STRICT{
PASS
}

-- [1]207:insert into root.db.d1(time,s01,s02) aligned values(1,1.2,true)
STRICT{
0
}
Elapsed Time: 0.0.46

-- [1]208:insert into root.db.d1(time,s01,s02) aligned values(2,2.2,false)
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]209:set schema template t1 to root.view.v1
STRICT{
PASS
}

-- [1]210:create view using schema template on root.view.v1
STRICT{
SQLSTATE : 700: Error occurred while parsing SQL to physical plan: line 1:18 missing '(' at 'schema'
}

-- [1]212:create timeseries using schema template on root.view.v1
STRICT{
PASS
}

-- [1]213:show timeseries root.view.**
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.view.v1.temperatu|null             |root.view           |FLOAT               |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
re                    |                 |                    |                    |                    |                       |                |                      |                    |                              |                    |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.view.v1.status   |null             |root.view           |BOOLEAN             |PLAIN               |SNAPPY                 |null            |null                  |null                |null                          |BASE                |
总数目：2
}
Elapsed Time: 0.0.1

-- [1]214:alter view root.view.v1.temperature as select s01 from root.db.d1
STRICT{
SQLSTATE : 300: Can not create view under template.
}

-- [1]216:create view root.view.v1(c1) as select temperature from root.view.v1
STRICT{
SQLSTATE : 300: Can not create view under template.
}

-- [1]218:deactivate schema template t1 from root.view.v1
STRICT{
PASS
}

-- [1]219:show paths using schema template t1
STRICT{
Paths(TEXT)      |
总数目：0
}
Elapsed Time: 0.0.4

-- [1]220:create view root.view.v1(c1) as select s01 from root.db.d1
STRICT{
SQLSTATE : 300: Can not create view under template.
}

-- [1]222:unset schema template t1 from root.view.v1
STRICT{
PASS
}

-- [1]223:create view root.view.v1(c1) as select s01 from root.db.d1
STRICT{
PASS
}

-- [1]224:select * from root.view.v1
STRICT{
Time(TIMESTAMP)      |root.view.v1.c1(FLOAT)      |
-------------------------------------------------
1                    |1.2                         |
-------------------------------------------------
2                    |2.2                         |
总数目：2
}
Elapsed Time: 0.0.3

-- [1]225:set schema template t1 to root.view.v1
STRICT{
SQLSTATE : 516: Cannot set device template [t1] to path [root.view.v1] since there's timeseries under path [root.view.v1].
}

-- [1]227:drop database root.db
STRICT{
PASS
}

-- [1]228:drop database root.view
STRICT{
PASS
}

-- [1]229:drop schema template t1
STRICT{
PASS
}

-- [1]235:create database root.db
STRICT{
PASS
}

-- [1]236:create aligned timeseries root.db.d1(s01 INT32,s02 INT64,s03 boolean,s04 float,s05 double,s06 text)
STRICT{
PASS
}

-- [1]237:create timeseries root.db.d2.s01 with datatype=INT32
STRICT{
PASS
}

-- [1]238:create timeseries root.db.d2.s02 with datatype=INT64
STRICT{
PASS
}

-- [1]239:create timeseries root.db.d2.s03 with datatype=boolean
STRICT{
PASS
}

-- [1]240:create timeseries root.db.d2.s04 with datatype=float
STRICT{
PASS
}

-- [1]241:create timeseries root.db.d2.s05 with datatype=double
STRICT{
PASS
}

-- [1]242:create timeseries root.db.d2.s06 with datatype=TEXT
STRICT{
PASS
}

-- [1]243:insert into root.db.d1(time,s01,s02,s03,s04,s05,s06) aligned values(1,1,1,true,1,1,"aligned 1")
STRICT{
0
}
Elapsed Time: 0.0.36

-- [1]244:insert into root.db.d1(time,s01,s02,s03,s04,s05,s06) aligned values(2,2,2,false,2,2,"aligned row 2")
STRICT{
0
}
Elapsed Time: 0.0.0

-- [1]245:insert into root.db.d1(time,s01,s02,s03,s04,s05,s06) aligned values(3,3,3,true,3,3,"aligned row 3")
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]247:insert into root.db.d2(time,s01,s02,s03,s04,s05,s06) values(1,1,1,true,1,1,"normal 1")
STRICT{
0
}
Elapsed Time: 0.0.36

-- [1]248:insert into root.db.d2(time,s01,s02,s03,s04,s05,s06) values(2,2,2,false,2,2,"normal row 2")
STRICT{
0
}
Elapsed Time: 0.0.0

-- [1]249:insert into root.db.d2(time,s01,s02,s03,s04,s05,s06) values(3,3,3,true,3,3,"normal row 3")
STRICT{
0
}
Elapsed Time: 0.0.1

-- [1]250:create view root.db.${2}(${2}_${3}) as select s01,s02,s03,s04,s05,s06 from root.db.*
STRICT{
PASS
}

-- [1]251:select d1_s04,d1_s01,d1_s03,d2_s02,d2_s05,d2_s06 from root.db.**
STRICT{
Time(TIMESTAMP)      |root.db.d1.d1_s04(FLOAT)      |root.db.d1.d1_s01(INT32)      |root.db.d1.d1_s03(BOOLEAN)      |root.db.d2.d2_s02(INT64)      |root.db.d2.d2_s05(DOUBLE)      |root.db.d2.d2_s06(TEXT)      |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                    |1.0                           |1                             |true                            |1                             |1.0                            |normal 1                     |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2                    |2.0                           |2                             |false                           |2                             |2.0                            |normal row 2                 |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3                    |3.0                           |3                             |true                            |3                             |3.0                            |normal row 3                 |
总数目：3
}
Elapsed Time: 0.0.4

-- [1]252:delete timeseries root.db.d1.s01
STRICT{
0
}
Elapsed Time: 0.0.22

-- [1]253:delete timeseries root.db.d2.s01
STRICT{
0
}
Elapsed Time: 0.0.22

-- [1]254:show timeseries root.db.d1.*
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.s02        |null             |root.db             |INT64               |TS_2DIFF            |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.s04        |null             |root.db             |FLOAT               |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.s03        |null             |root.db             |BOOLEAN             |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.s06        |null             |root.db             |TEXT                |PLAIN               |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.s05        |null             |root.db             |DOUBLE              |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s03     |null             |root.db             |BOOLEAN             |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s04     |null             |root.db             |FLOAT               |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s05     |null             |root.db             |DOUBLE              |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s06     |null             |root.db             |TEXT                |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s01     |null             |root.db             |UNKNOWN             |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s02     |null             |root.db             |INT64               |null                |null                   |null            |null                  |null                |null                          |VIEW                |
总数目：11
}
Elapsed Time: 0.0.3

-- [1]255:show timeseries root.db.d2.*
STRICT{
Timeseries(TEXT)      |Alias(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Encoding(TEXT)      |Compression(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |Deadband(TEXT)      |DeadbandParameters(TEXT)      |ViewType(TEXT)      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.s02        |null             |root.db             |INT64               |TS_2DIFF            |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.s04        |null             |root.db             |FLOAT               |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.s03        |null             |root.db             |BOOLEAN             |RLE                 |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.s06        |null             |root.db             |TEXT                |PLAIN               |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.s05        |null             |root.db             |DOUBLE              |GORILLA             |LZ4                    |null            |null                  |null                |null                          |BASE                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s01     |null             |root.db             |UNKNOWN             |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s04     |null             |root.db             |FLOAT               |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s05     |null             |root.db             |DOUBLE              |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s02     |null             |root.db             |INT64               |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s03     |null             |root.db             |BOOLEAN             |null                |null                   |null            |null                  |null                |null                          |VIEW                |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s06     |null             |root.db             |TEXT                |null                |null                   |null            |null                  |null                |null                          |VIEW                |
总数目：11
}
Elapsed Time: 0.0.2

-- [1]256:insert into root.db.d1(time,d1_s01,s02,s03,s04,s05,s06) aligned values(4,4,4,true,4,4,"aligned s01 will be created auto or not")
STRICT{
SQLSTATE : 508: The source path [root.db.d1.s01] of view [root.db.d1.d1_s01] does not exist.
}

-- [1]258:insert into root.db.d2(time,d2_s01,s02,s03,s04,s05,s06) values(4,4,4,true,4,4,"normal s01 will be created auto or not")
STRICT{
SQLSTATE : 508: The source path [root.db.d2.s01] of view [root.db.d2.d2_s01] does not exist.
}

-- [1]260:insert into root.db.d1(time,s01,s02,s03,s04,s05,s06,d1_s01) aligned values(5000,4,4,true,4,4,"aligned s01 will be created auto or not",444)
STRICT{
SQLSTATE : 300: Insertion is illegal because measurement [s01] under device [root.db.d1] is duplicate.
}

-- [1]262:insert into root.db.d2(time,s01,s02,s03,s04,s05,s06,d2_s01) values(5000,4,4,true,4,4,"normal s01 will be created auto or not",444)
STRICT{
SQLSTATE : 300: Insertion is illegal because measurement [s01] under device [root.db.d2] is duplicate.
}

-- [1]264:show view root.db.**
STRICT{
Timeseries(TEXT)      |Database(TEXT)      |DataType(TEXT)      |Tags(TEXT)      |Attributes(TEXT)      |ViewType(TEXT)      |Source(TEXT)      |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s03     |root.db             |BOOLEAN             |null            |null                  |VIEW                |root.db.d1.s03    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s04     |root.db             |FLOAT               |null            |null                  |VIEW                |root.db.d1.s04    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s05     |root.db             |DOUBLE              |null            |null                  |VIEW                |root.db.d1.s05    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s06     |root.db             |TEXT                |null            |null                  |VIEW                |root.db.d1.s06    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s01     |root.db             |UNKNOWN             |null            |null                  |VIEW                |root.db.d1.s01    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1.d1_s02     |root.db             |INT64               |null            |null                  |VIEW                |root.db.d1.s02    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s01     |root.db             |UNKNOWN             |null            |null                  |VIEW                |root.db.d2.s01    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s04     |root.db             |FLOAT               |null            |null                  |VIEW                |root.db.d2.s04    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s05     |root.db             |DOUBLE              |null            |null                  |VIEW                |root.db.d2.s05    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s02     |root.db             |INT64               |null            |null                  |VIEW                |root.db.d2.s02    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s03     |root.db             |BOOLEAN             |null            |null                  |VIEW                |root.db.d2.s03    |
------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2.d2_s06     |root.db             |TEXT                |null            |null                  |VIEW                |root.db.d2.s06    |
总数目：12
}
Elapsed Time: 0.0.2

-- [1]265:select s01,s02,s03,s04,s05,s06,d1_s01,d1_s02,d1_s03,d1_s04,d1_s05,d1_s06 from root.db.d1
STRICT{
SQLSTATE : 507: The source path [root.db.d1.s01] is deleted
}

-- [1]267:select s01,s02,s03,s04,s05,s06,d2_s01,d2_s02,d2_s03,d2_s04,d2_s05,d2_s06 from root.db.d2
STRICT{
SQLSTATE : 507: The source path [root.db.d2.s01] is deleted
}

-- [1]269:drop database root.db
STRICT{
PASS
}
